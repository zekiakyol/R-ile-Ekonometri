<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>2.4 {dplyr} Paketi ile Verilerin Manipülasyonu | R ile Ekonometri</title>
  <meta name="description" content="Araştırma Seminerleri, 10-12 Temmuz 2023, İTÜ - Ders notları" />
  <meta name="generator" content="bookdown 0.34 and GitBook 2.6.7" />

  <meta property="og:title" content="2.4 {dplyr} Paketi ile Verilerin Manipülasyonu | R ile Ekonometri" />
  <meta property="og:type" content="book" />
  
  <meta property="og:description" content="Araştırma Seminerleri, 10-12 Temmuz 2023, İTÜ - Ders notları" />
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="2.4 {dplyr} Paketi ile Verilerin Manipülasyonu | R ile Ekonometri" />
  
  <meta name="twitter:description" content="Araştırma Seminerleri, 10-12 Temmuz 2023, İTÜ - Ders notları" />
  



<meta name="date" content="2023-07-08" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="2.3-tidyr-paketi-ile-verilerin-düzenlenmesi.html"/>
<link rel="next" href="2.5-ggplot.html"/>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>
<script src="libs/htmlwidgets-1.6.2/htmlwidgets.js"></script>
<script src="libs/plotly-binding-4.10.2/plotly.js"></script>
<script src="libs/typedarray-0.1/typedarray.min.js"></script>
<link href="libs/crosstalk-1.2.0/css/crosstalk.min.css" rel="stylesheet" />
<script src="libs/crosstalk-1.2.0/js/crosstalk.min.js"></script>
<link href="libs/plotly-htmlwidgets-css-2.11.1/plotly-htmlwidgets.css" rel="stylesheet" />
<script src="libs/plotly-main-2.11.1/plotly-latest.min.js"></script>
<script src="libs/kePrint-0.0.1/kePrint.js"></script>
<link href="libs/lightable-0.0.1/lightable.css" rel="stylesheet" />


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<style type="text/css">
  
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">R ile Ekonometri</a></li>
<li><a href="https://github.com/htastan">Prof. Dr. Hüseyin Taştan</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Dersin amacı ve kapsamı</a></li>
<li class="chapter" data-level="" data-path="dersin-içeriği.html"><a href="dersin-içeriği.html"><i class="fa fa-check"></i>Dersin içeriği</a></li>
<li class="chapter" data-level="1" data-path="1-temelR.html"><a href="1-temelR.html"><i class="fa fa-check"></i><b>1</b> Temel R</a>
<ul>
<li class="chapter" data-level="1.1" data-path="1.1-R-kurulum.html"><a href="1.1-R-kurulum.html"><i class="fa fa-check"></i><b>1.1</b> Kurulum</a></li>
<li class="chapter" data-level="1.2" data-path="1.2-R-console.html"><a href="1.2-R-console.html"><i class="fa fa-check"></i><b>1.2</b> R Komut Satırı (Console)</a></li>
<li class="chapter" data-level="1.3" data-path="1.3-R-nesne.html"><a href="1.3-R-nesne.html"><i class="fa fa-check"></i><b>1.3</b> <code>R</code>’da Nesneler</a></li>
<li class="chapter" data-level="1.4" data-path="1.4-R-vektor.html"><a href="1.4-R-vektor.html"><i class="fa fa-check"></i><b>1.4</b> Vektörler</a></li>
<li class="chapter" data-level="1.5" data-path="1.5-R-log-vek.html"><a href="1.5-R-log-vek.html"><i class="fa fa-check"></i><b>1.5</b> Mantıksal vektörler</a></li>
<li class="chapter" data-level="1.6" data-path="1.6-R-matris.html"><a href="1.6-R-matris.html"><i class="fa fa-check"></i><b>1.6</b> Matrisler</a></li>
<li class="chapter" data-level="1.7" data-path="1.7-R-liste.html"><a href="1.7-R-liste.html"><i class="fa fa-check"></i><b>1.7</b> Listeler</a></li>
<li class="chapter" data-level="1.8" data-path="1.8-R-data-fr.html"><a href="1.8-R-data-fr.html"><i class="fa fa-check"></i><b>1.8</b> Veri Çerçeveleri (Data Frames)</a></li>
<li class="chapter" data-level="1.9" data-path="1.9-R-gorsel.html"><a href="1.9-R-gorsel.html"><i class="fa fa-check"></i><b>1.9</b> Görselleştirme</a>
<ul>
<li class="chapter" data-level="1.9.1" data-path="1.9-R-gorsel.html"><a href="1.9-R-gorsel.html#plot-fonksiyonu"><i class="fa fa-check"></i><b>1.9.1</b> Plot fonksiyonu</a></li>
<li class="chapter" data-level="1.9.2" data-path="1.9-R-gorsel.html"><a href="1.9-R-gorsel.html#eğri-çizimi"><i class="fa fa-check"></i><b>1.9.2</b> Eğri çizimi</a></li>
<li class="chapter" data-level="1.9.3" data-path="1.9-R-gorsel.html"><a href="1.9-R-gorsel.html#histogram"><i class="fa fa-check"></i><b>1.9.3</b> Histogram</a></li>
<li class="chapter" data-level="1.9.4" data-path="1.9-R-gorsel.html"><a href="1.9-R-gorsel.html#kutu-çizimi"><i class="fa fa-check"></i><b>1.9.4</b> Kutu çizimi</a></li>
<li class="chapter" data-level="1.9.5" data-path="1.9-R-gorsel.html"><a href="1.9-R-gorsel.html#örneklem-birikimli-yoğunluk-fonksiyonu"><i class="fa fa-check"></i><b>1.9.5</b> Örneklem birikimli yoğunluk fonksiyonu</a></li>
<li class="chapter" data-level="1.9.6" data-path="1.9-R-gorsel.html"><a href="1.9-R-gorsel.html#serpilme-çizimi"><i class="fa fa-check"></i><b>1.9.6</b> Serpilme çizimi</a></li>
<li class="chapter" data-level="1.9.7" data-path="1.9-R-gorsel.html"><a href="1.9-R-gorsel.html#kategorik-değişkenler"><i class="fa fa-check"></i><b>1.9.7</b> Kategorik değişkenler</a></li>
</ul></li>
<li class="chapter" data-level="1.10" data-path="1.10-R-prog.html"><a href="1.10-R-prog.html"><i class="fa fa-check"></i><b>1.10</b> Temel Programlama</a>
<ul>
<li class="chapter" data-level="1.10.1" data-path="1.10-R-prog.html"><a href="1.10-R-prog.html#mantıksal-işlemler"><i class="fa fa-check"></i><b>1.10.1</b> Mantıksal işlemler</a></li>
<li class="chapter" data-level="1.10.2" data-path="1.10-R-prog.html"><a href="1.10-R-prog.html#koşullu-işlem"><i class="fa fa-check"></i><b>1.10.2</b> Koşullu işlem</a></li>
<li class="chapter" data-level="1.10.3" data-path="1.10-R-prog.html"><a href="1.10-R-prog.html#döngüler"><i class="fa fa-check"></i><b>1.10.3</b> Döngüler</a></li>
<li class="chapter" data-level="1.10.4" data-path="1.10-R-prog.html"><a href="1.10-R-prog.html#fonksiyonel-işlemler"><i class="fa fa-check"></i><b>1.10.4</b> Fonksiyonel İşlemler</a></li>
</ul></li>
<li class="chapter" data-level="1.11" data-path="1.11-R-fonksiyon.html"><a href="1.11-R-fonksiyon.html"><i class="fa fa-check"></i><b>1.11</b> R Fonksiyonları</a></li>
<li class="chapter" data-level="1.12" data-path="1.12-R-paket.html"><a href="1.12-R-paket.html"><i class="fa fa-check"></i><b>1.12</b> R Paketleri</a></li>
<li class="chapter" data-level="1.13" data-path="1.13-R-dizin.html"><a href="1.13-R-dizin.html"><i class="fa fa-check"></i><b>1.13</b> Çalışma dizini</a></li>
<li class="chapter" data-level="1.14" data-path="1.14-r-ile-online-veri-indirme.html"><a href="1.14-r-ile-online-veri-indirme.html"><i class="fa fa-check"></i><b>1.14</b> R ile Online Veri İndirme</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="2-tidyRgiris.html"><a href="2-tidyRgiris.html"><i class="fa fa-check"></i><b>2</b> R Tidyverse</a>
<ul>
<li class="chapter" data-level="2.1" data-path="2.1-r-tidy-veri-çerçeveleri.html"><a href="2.1-r-tidy-veri-çerçeveleri.html"><i class="fa fa-check"></i><b>2.1</b> R “Tidy” veri çerçeveleri</a></li>
<li class="chapter" data-level="2.2" data-path="2.2-readr-paketi-ile-verilerin-okutulması.html"><a href="2.2-readr-paketi-ile-verilerin-okutulması.html"><i class="fa fa-check"></i><b>2.2</b> <code>{readr}</code> Paketi ile Verilerin okutulması</a></li>
<li class="chapter" data-level="2.3" data-path="2.3-tidyr-paketi-ile-verilerin-düzenlenmesi.html"><a href="2.3-tidyr-paketi-ile-verilerin-düzenlenmesi.html"><i class="fa fa-check"></i><b>2.3</b> <code>{tidyr}</code> Paketi ile Verilerin Düzenlenmesi</a>
<ul>
<li class="chapter" data-level="2.3.1" data-path="2.3-tidyr-paketi-ile-verilerin-düzenlenmesi.html"><a href="2.3-tidyr-paketi-ile-verilerin-düzenlenmesi.html#kayıp-gözlemler"><i class="fa fa-check"></i><b>2.3.1</b> Kayıp gözlemler</a></li>
<li class="chapter" data-level="2.3.2" data-path="2.3-tidyr-paketi-ile-verilerin-düzenlenmesi.html"><a href="2.3-tidyr-paketi-ile-verilerin-düzenlenmesi.html#hücrelerin-ayrılması-veya-birleştirilmesi"><i class="fa fa-check"></i><b>2.3.2</b> Hücrelerin ayrılması veya birleştirilmesi</a></li>
</ul></li>
<li class="chapter" data-level="2.4" data-path="2.4-dplyr.html"><a href="2.4-dplyr.html"><i class="fa fa-check"></i><b>2.4</b> <code>{dplyr}</code> Paketi ile Verilerin Manipülasyonu</a>
<ul>
<li class="chapter" data-level="2.4.1" data-path="2.4-dplyr.html"><a href="2.4-dplyr.html#filter-gözlemlerin-filtrelenmesi"><i class="fa fa-check"></i><b>2.4.1</b> <code>filter()</code>: gözlemlerin filtrelenmesi</a></li>
<li class="chapter" data-level="2.4.2" data-path="2.4-dplyr.html"><a href="2.4-dplyr.html#select-değişkenlerin-seçimi"><i class="fa fa-check"></i><b>2.4.2</b> <code>select()</code>: değişkenlerin seçimi</a></li>
<li class="chapter" data-level="2.4.3" data-path="2.4-dplyr.html"><a href="2.4-dplyr.html#mutate-yeni-değişken-oluşturma"><i class="fa fa-check"></i><b>2.4.3</b> <code>mutate()</code>: yeni değişken oluşturma</a></li>
<li class="chapter" data-level="2.4.4" data-path="2.4-dplyr.html"><a href="2.4-dplyr.html#arrange-verilerin-sıralanması"><i class="fa fa-check"></i><b>2.4.4</b> <code>arrange()</code>: verilerin sıralanması</a></li>
<li class="chapter" data-level="2.4.5" data-path="2.4-dplyr.html"><a href="2.4-dplyr.html#group_by-verilerin-gruplanması"><i class="fa fa-check"></i><b>2.4.5</b> <code>group_by()</code>: verilerin gruplanması</a></li>
<li class="chapter" data-level="2.4.6" data-path="2.4-dplyr.html"><a href="2.4-dplyr.html#summarize-verilerin-özetlenmesi"><i class="fa fa-check"></i><b>2.4.6</b> <code>summarize()</code>: verilerin özetlenmesi</a></li>
<li class="chapter" data-level="2.4.7" data-path="2.4-dplyr.html"><a href="2.4-dplyr.html#veri-setlerinin-birleştirilmesi"><i class="fa fa-check"></i><b>2.4.7</b> Veri setlerinin birleştirilmesi</a></li>
<li class="chapter" data-level="2.4.8" data-path="2.4-dplyr.html"><a href="2.4-dplyr.html#diğer-fonksiyonlar"><i class="fa fa-check"></i><b>2.4.8</b> Diğer fonksiyonlar</a></li>
</ul></li>
<li class="chapter" data-level="2.5" data-path="2.5-ggplot.html"><a href="2.5-ggplot.html"><i class="fa fa-check"></i><b>2.5</b> <code>{ggplot2}</code> Paketi ile Görselleştirme</a>
<ul>
<li class="chapter" data-level="2.5.1" data-path="2.5-ggplot.html"><a href="2.5-ggplot.html#bir-grafiğin-katmanları"><i class="fa fa-check"></i><b>2.5.1</b> Bir grafiğin katmanları</a></li>
<li class="chapter" data-level="2.5.2" data-path="2.5-ggplot.html"><a href="2.5-ggplot.html#renk-şekil-ve-büyüklük"><i class="fa fa-check"></i><b>2.5.2</b> Renk, şekil, ve büyüklük</a></li>
<li class="chapter" data-level="2.5.3" data-path="2.5-ggplot.html"><a href="2.5-ggplot.html#fasetler"><i class="fa fa-check"></i><b>2.5.3</b> Fasetler</a></li>
<li class="chapter" data-level="2.5.4" data-path="2.5-ggplot.html"><a href="2.5-ggplot.html#eksenler-başlık-ve-etiketlerin-kontrolü"><i class="fa fa-check"></i><b>2.5.4</b> Eksenler, başlık, ve etiketlerin kontrolü</a></li>
<li class="chapter" data-level="2.5.5" data-path="2.5-ggplot.html"><a href="2.5-ggplot.html#dağılım-grafikleri"><i class="fa fa-check"></i><b>2.5.5</b> Dağılım Grafikleri</a></li>
<li class="chapter" data-level="2.5.6" data-path="2.5-ggplot.html"><a href="2.5-ggplot.html#histogram-geom_histogram"><i class="fa fa-check"></i><b>2.5.6</b> Histogram: <code>geom_histogram()</code></a></li>
<li class="chapter" data-level="2.5.7" data-path="2.5-ggplot.html"><a href="2.5-ggplot.html#yoğunluk-geom_density"><i class="fa fa-check"></i><b>2.5.7</b> Yoğunluk: <code>geom_density()</code></a></li>
<li class="chapter" data-level="2.5.8" data-path="2.5-ggplot.html"><a href="2.5-ggplot.html#kutu-çizimi-geom_boxplot"><i class="fa fa-check"></i><b>2.5.8</b> Kutu Çizimi: <code>geom_boxplot()</code></a></li>
<li class="chapter" data-level="2.5.9" data-path="2.5-ggplot.html"><a href="2.5-ggplot.html#keman-grafiği-geom_violin"><i class="fa fa-check"></i><b>2.5.9</b> Keman grafiği: <code>geom_violin()</code></a></li>
<li class="chapter" data-level="2.5.10" data-path="2.5-ggplot.html"><a href="2.5-ggplot.html#qq-grafiği"><i class="fa fa-check"></i><b>2.5.10</b> QQ Grafiği</a></li>
<li class="chapter" data-level="2.5.11" data-path="2.5-ggplot.html"><a href="2.5-ggplot.html#bar-plot"><i class="fa fa-check"></i><b>2.5.11</b> Bar plot</a></li>
<li class="chapter" data-level="2.5.12" data-path="2.5-ggplot.html"><a href="2.5-ggplot.html#çizgi-ve-nokta-grafiği"><i class="fa fa-check"></i><b>2.5.12</b> Çizgi ve Nokta grafiği</a></li>
<li class="chapter" data-level="2.5.13" data-path="2.5-ggplot.html"><a href="2.5-ggplot.html#temalar"><i class="fa fa-check"></i><b>2.5.13</b> Temalar</a></li>
<li class="chapter" data-level="2.5.14" data-path="2.5-ggplot.html"><a href="2.5-ggplot.html#interaktif-grafik"><i class="fa fa-check"></i><b>2.5.14</b> Interaktif grafik</a></li>
<li class="chapter" data-level="2.5.15" data-path="2.5-ggplot.html"><a href="2.5-ggplot.html#harita-çizimi"><i class="fa fa-check"></i><b>2.5.15</b> Harita çizimi</a></li>
<li class="chapter" data-level="2.5.16" data-path="2.5-ggplot.html"><a href="2.5-ggplot.html#ggplot2-uzantıları"><i class="fa fa-check"></i><b>2.5.16</b> <code>ggplot2</code> Uzantıları</a></li>
</ul></li>
<li class="chapter" data-level="2.6" data-path="2.6-forcats.html"><a href="2.6-forcats.html"><i class="fa fa-check"></i><b>2.6</b> <code>{forcats}</code> Paketi ile Kategorik Değişkenlerin İşlenmesi</a></li>
<li class="chapter" data-level="2.7" data-path="2.7-stringr.html"><a href="2.7-stringr.html"><i class="fa fa-check"></i><b>2.7</b> <code>{stringr}</code> Paketi ile Karakter Değişkenlerinin İşlenmesi</a></li>
<li class="chapter" data-level="2.8" data-path="2.8-lubridate.html"><a href="2.8-lubridate.html"><i class="fa fa-check"></i><b>2.8</b> <code>{lubridate}</code> Paketi ile Tarih-Zaman İşlemleri</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="3-Kesit.html"><a href="3-Kesit.html"><i class="fa fa-check"></i><b>3</b> Regresyon Analizi: Kesit Veri</a>
<ul>
<li class="chapter" data-level="3.1" data-path="3.1-ekonometriye-giriş.html"><a href="3.1-ekonometriye-giriş.html"><i class="fa fa-check"></i><b>3.1</b> Ekonometriye Giriş</a></li>
<li class="chapter" data-level="3.2" data-path="3.2-veri-türleri.html"><a href="3.2-veri-türleri.html"><i class="fa fa-check"></i><b>3.2</b> Veri Türleri</a></li>
<li class="chapter" data-level="3.3" data-path="3.3-basit-regresyon-modeli.html"><a href="3.3-basit-regresyon-modeli.html"><i class="fa fa-check"></i><b>3.3</b> Basit Regresyon Modeli</a></li>
<li class="chapter" data-level="3.4" data-path="3.4-popülasyon-regresyon-fonksiyonu.html"><a href="3.4-popülasyon-regresyon-fonksiyonu.html"><i class="fa fa-check"></i><b>3.4</b> Popülasyon Regresyon Fonksiyonu</a></li>
<li class="chapter" data-level="3.5" data-path="3.5-sıradan-en-küçük-kareler-ekk-yöntemi-ile-tahmin.html"><a href="3.5-sıradan-en-küçük-kareler-ekk-yöntemi-ile-tahmin.html"><i class="fa fa-check"></i><b>3.5</b> (Sıradan) En Küçük Kareler (EKK) Yöntemi ile Tahmin</a></li>
<li class="chapter" data-level="3.6" data-path="3.6-popülasyon-ve-örneklem-regresyon-fonksiyonları.html"><a href="3.6-popülasyon-ve-örneklem-regresyon-fonksiyonları.html"><i class="fa fa-check"></i><b>3.6</b> Popülasyon ve Örneklem Regresyon Fonksiyonları</a></li>
<li class="chapter" data-level="3.7" data-path="3.7-fonksiyon-kalıpları.html"><a href="3.7-fonksiyon-kalıpları.html"><i class="fa fa-check"></i><b>3.7</b> Fonksiyon kalıpları</a>
<ul>
<li class="chapter" data-level="3.7.1" data-path="3.7-fonksiyon-kalıpları.html"><a href="3.7-fonksiyon-kalıpları.html#regresyon-modelinin-doğrusallığı"><i class="fa fa-check"></i><b>3.7.1</b> Regresyon modelinin doğrusallığı</a></li>
<li class="chapter" data-level="3.7.2" data-path="3.7-fonksiyon-kalıpları.html"><a href="3.7-fonksiyon-kalıpları.html#doğrusal-olmama"><i class="fa fa-check"></i><b>3.7.2</b> Doğrusal olmama</a></li>
<li class="chapter" data-level="3.7.3" data-path="3.7-fonksiyon-kalıpları.html"><a href="3.7-fonksiyon-kalıpları.html#log-level"><i class="fa fa-check"></i><b>3.7.3</b> Log-level</a></li>
<li class="chapter" data-level="3.7.4" data-path="3.7-fonksiyon-kalıpları.html"><a href="3.7-fonksiyon-kalıpları.html#level-log"><i class="fa fa-check"></i><b>3.7.4</b> Level-log</a></li>
<li class="chapter" data-level="3.7.5" data-path="3.7-fonksiyon-kalıpları.html"><a href="3.7-fonksiyon-kalıpları.html#log-log-sabit-esneklik-modeli"><i class="fa fa-check"></i><b>3.7.5</b> Log-log (Sabit esneklik modeli)</a></li>
</ul></li>
<li class="chapter" data-level="3.8" data-path="3.8-çoklu-regresyon-modeli.html"><a href="3.8-çoklu-regresyon-modeli.html"><i class="fa fa-check"></i><b>3.8</b> Çoklu Regresyon Modeli</a></li>
<li class="chapter" data-level="3.9" data-path="3.9-r-lm-fonksiyonu.html"><a href="3.9-r-lm-fonksiyonu.html"><i class="fa fa-check"></i><b>3.9</b> R <code>lm()</code> Fonksiyonu</a></li>
<li class="chapter" data-level="3.10" data-path="3.10-kukla-kategorik-değişkenler.html"><a href="3.10-kukla-kategorik-değişkenler.html"><i class="fa fa-check"></i><b>3.10</b> Kukla (kategorik) değişkenler</a></li>
<li class="chapter" data-level="3.11" data-path="3.11-etkileşim-değişkenleri.html"><a href="3.11-etkileşim-değişkenleri.html"><i class="fa fa-check"></i><b>3.11</b> Etkileşim değişkenleri</a></li>
<li class="chapter" data-level="3.12" data-path="3.12-karesel-ve-polinom-terimler.html"><a href="3.12-karesel-ve-polinom-terimler.html"><i class="fa fa-check"></i><b>3.12</b> Karesel ve polinom terimler</a></li>
<li class="chapter" data-level="3.13" data-path="3.13-hipotez-testleri.html"><a href="3.13-hipotez-testleri.html"><i class="fa fa-check"></i><b>3.13</b> Hipotez testleri</a>
<ul>
<li class="chapter" data-level="3.13.1" data-path="3.13-hipotez-testleri.html"><a href="3.13-hipotez-testleri.html#t-testi-karar-kuralı"><i class="fa fa-check"></i><b>3.13.1</b> t-testi karar kuralı</a></li>
<li class="chapter" data-level="3.13.2" data-path="3.13-hipotez-testleri.html"><a href="3.13-hipotez-testleri.html#p-değeri"><i class="fa fa-check"></i><b>3.13.2</b> p-değeri</a></li>
<li class="chapter" data-level="3.13.3" data-path="3.13-hipotez-testleri.html"><a href="3.13-hipotez-testleri.html#t-testi-örnek"><i class="fa fa-check"></i><b>3.13.3</b> t-testi: Örnek</a></li>
<li class="chapter" data-level="3.13.4" data-path="3.13-hipotez-testleri.html"><a href="3.13-hipotez-testleri.html#f-testi-çoklu-doğrusal-kısıtların-testi"><i class="fa fa-check"></i><b>3.13.4</b> F Testi: Çoklu Doğrusal Kısıtların Testi</a></li>
<li class="chapter" data-level="3.13.5" data-path="3.13-hipotez-testleri.html"><a href="3.13-hipotez-testleri.html#dışlama-kısıtları"><i class="fa fa-check"></i><b>3.13.5</b> Dışlama kısıtları</a></li>
<li class="chapter" data-level="3.13.6" data-path="3.13-hipotez-testleri.html"><a href="3.13-hipotez-testleri.html#f-testi-için-karar-kuralı"><i class="fa fa-check"></i><b>3.13.6</b> F testi için karar kuralı</a></li>
<li class="chapter" data-level="3.13.7" data-path="3.13-hipotez-testleri.html"><a href="3.13-hipotez-testleri.html#doğrusal-kısıtlar-örnek"><i class="fa fa-check"></i><b>3.13.7</b> Doğrusal kısıtlar: örnek</a></li>
<li class="chapter" data-level="3.13.8" data-path="3.13-hipotez-testleri.html"><a href="3.13-hipotez-testleri.html#regresyonun-bütün-olarak-anlamlılığı"><i class="fa fa-check"></i><b>3.13.8</b> Regresyonun Bütün Olarak Anlamlılığı</a></li>
</ul></li>
<li class="chapter" data-level="3.14" data-path="3.14-regresyon-analizinde-potansiyel-problemler.html"><a href="3.14-regresyon-analizinde-potansiyel-problemler.html"><i class="fa fa-check"></i><b>3.14</b> Regresyon Analizinde Potansiyel Problemler</a></li>
<li class="chapter" data-level="3.15" data-path="3.15-kestirim-prediction.html"><a href="3.15-kestirim-prediction.html"><i class="fa fa-check"></i><b>3.15</b> Kestirim (Prediction)</a></li>
<li class="chapter" data-level="3.16" data-path="3.16-makine-öğrenmesi-ve-regresyon-analizi.html"><a href="3.16-makine-öğrenmesi-ve-regresyon-analizi.html"><i class="fa fa-check"></i><b>3.16</b> Makine Öğrenmesi ve Regresyon Analizi</a></li>
<li class="chapter" data-level="3.17" data-path="3.17-regresyon-ve-gözetimli-öğrenme.html"><a href="3.17-regresyon-ve-gözetimli-öğrenme.html"><i class="fa fa-check"></i><b>3.17</b> Regresyon ve gözetimli öğrenme</a></li>
<li class="chapter" data-level="3.18" data-path="3.18-test-mse.html"><a href="3.18-test-mse.html"><i class="fa fa-check"></i><b>3.18</b> Test MSE</a></li>
<li class="chapter" data-level="3.19" data-path="3.19-aşırı-uyum-ve-makine-öğrenmesi.html"><a href="3.19-aşırı-uyum-ve-makine-öğrenmesi.html"><i class="fa fa-check"></i><b>3.19</b> Aşırı uyum ve makine öğrenmesi</a></li>
<li class="chapter" data-level="3.20" data-path="3.20-biri-hariç-çapraz-geçerleme-loocv-leave-one-out-cross-validation.html"><a href="3.20-biri-hariç-çapraz-geçerleme-loocv-leave-one-out-cross-validation.html"><i class="fa fa-check"></i><b>3.20</b> Biri Hariç Çapraz Geçerleme, LOOCV (Leave-one-out Cross Validation)</a></li>
<li class="chapter" data-level="3.21" data-path="3.21-k-katlı-çapraz-geçerleme.html"><a href="3.21-k-katlı-çapraz-geçerleme.html"><i class="fa fa-check"></i><b>3.21</b> <span class="math inline">\(k\)</span>-Katlı Çapraz Geçerleme</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="4-Zaman.html"><a href="4-Zaman.html"><i class="fa fa-check"></i><b>4</b> Regresyon Analizi: Zaman Serileri</a>
<ul>
<li class="chapter" data-level="4.1" data-path="4.1-zaman-serileri.html"><a href="4.1-zaman-serileri.html"><i class="fa fa-check"></i><b>4.1</b> Zaman Serileri</a></li>
<li class="chapter" data-level="4.2" data-path="4.2-rda-zaman-serilerinin-temsili.html"><a href="4.2-rda-zaman-serilerinin-temsili.html"><i class="fa fa-check"></i><b>4.2</b> R’da Zaman Serilerinin Temsili</a>
<ul>
<li class="chapter" data-level="4.2.1" data-path="4.2-rda-zaman-serilerinin-temsili.html"><a href="4.2-rda-zaman-serilerinin-temsili.html#ts-nesnesi"><i class="fa fa-check"></i><b>4.2.1</b> <code>ts</code> Nesnesi</a></li>
<li class="chapter" data-level="4.2.2" data-path="4.2-rda-zaman-serilerinin-temsili.html"><a href="4.2-rda-zaman-serilerinin-temsili.html#zoo-nesnesi"><i class="fa fa-check"></i><b>4.2.2</b> <code>zoo</code> nesnesi</a></li>
<li class="chapter" data-level="4.2.3" data-path="4.2-rda-zaman-serilerinin-temsili.html"><a href="4.2-rda-zaman-serilerinin-temsili.html#xts-nesnesi"><i class="fa fa-check"></i><b>4.2.3</b> <code>xts</code> nesnesi</a></li>
<li class="chapter" data-level="4.2.4" data-path="4.2-rda-zaman-serilerinin-temsili.html"><a href="4.2-rda-zaman-serilerinin-temsili.html#tsibble-nesnesi"><i class="fa fa-check"></i><b>4.2.4</b> <code>tsibble</code> nesnesi</a></li>
</ul></li>
<li class="chapter" data-level="4.3" data-path="4.3-klasik-zaman-serisi-ayrıştırması.html"><a href="4.3-klasik-zaman-serisi-ayrıştırması.html"><i class="fa fa-check"></i><b>4.3</b> Klasik Zaman Serisi Ayrıştırması</a>
<ul>
<li class="chapter" data-level="4.3.1" data-path="4.3-klasik-zaman-serisi-ayrıştırması.html"><a href="4.3-klasik-zaman-serisi-ayrıştırması.html#örnek-turist-sayısı"><i class="fa fa-check"></i><b>4.3.1</b> Örnek: Turist sayısı</a></li>
</ul></li>
<li class="chapter" data-level="4.4" data-path="4.4-zaman-serilerinde-bağımlılık.html"><a href="4.4-zaman-serilerinde-bağımlılık.html"><i class="fa fa-check"></i><b>4.4</b> Zaman Serilerinde Bağımlılık</a>
<ul>
<li class="chapter" data-level="4.4.1" data-path="4.4-zaman-serilerinde-bağımlılık.html"><a href="4.4-zaman-serilerinde-bağımlılık.html#otokorelasyon-fonksiyonu-acf"><i class="fa fa-check"></i><b>4.4.1</b> Otokorelasyon Fonksiyonu (ACF)</a></li>
<li class="chapter" data-level="4.4.2" data-path="4.4-zaman-serilerinde-bağımlılık.html"><a href="4.4-zaman-serilerinde-bağımlılık.html#pür-rassal-süreç-white-noise"><i class="fa fa-check"></i><b>4.4.2</b> Pür rassal süreç (white noise)</a></li>
</ul></li>
<li class="chapter" data-level="4.5" data-path="4.5-durağanlık.html"><a href="4.5-durağanlık.html"><i class="fa fa-check"></i><b>4.5</b> Durağanlık</a></li>
<li class="chapter" data-level="4.6" data-path="4.6-birim-kök-ve-durağanlık-testleri.html"><a href="4.6-birim-kök-ve-durağanlık-testleri.html"><i class="fa fa-check"></i><b>4.6</b> Birim kök ve durağanlık testleri</a></li>
<li class="chapter" data-level="4.7" data-path="4.7-zaman-serileriyle-regresyon-analizi-statik-modeller.html"><a href="4.7-zaman-serileriyle-regresyon-analizi-statik-modeller.html"><i class="fa fa-check"></i><b>4.7</b> Zaman Serileriyle Regresyon Analizi: Statik Modeller</a>
<ul>
<li class="chapter" data-level="4.7.1" data-path="4.7-zaman-serileriyle-regresyon-analizi-statik-modeller.html"><a href="4.7-zaman-serileriyle-regresyon-analizi-statik-modeller.html#örnek-statik-phillips-eğrisi"><i class="fa fa-check"></i><b>4.7.1</b> Örnek: Statik Phillips Eğrisi</a></li>
<li class="chapter" data-level="4.7.2" data-path="4.7-zaman-serileriyle-regresyon-analizi-statik-modeller.html"><a href="4.7-zaman-serileriyle-regresyon-analizi-statik-modeller.html#örnek-beklentilerle-genişletilmiş-phillips-eğirisi"><i class="fa fa-check"></i><b>4.7.2</b> Örnek: Beklentilerle genişletilmiş Phillips eğirisi</a></li>
</ul></li>
<li class="chapter" data-level="4.8" data-path="4.8-dinamik-modeller-dağıtılmış-gecikme-modeli.html"><a href="4.8-dinamik-modeller-dağıtılmış-gecikme-modeli.html"><i class="fa fa-check"></i><b>4.8</b> Dinamik Modeller: Dağıtılmış Gecikme Modeli</a>
<ul>
<li class="chapter" data-level="4.8.1" data-path="4.8-dinamik-modeller-dağıtılmış-gecikme-modeli.html"><a href="4.8-dinamik-modeller-dağıtılmış-gecikme-modeli.html#örnek-vergi-teşvikleri-ile-doğurganlık-ilişkisi"><i class="fa fa-check"></i><b>4.8.1</b> Örnek: Vergi teşvikleri ile Doğurganlık ilişkisi</a></li>
</ul></li>
<li class="chapter" data-level="4.9" data-path="4.9-vektör-otoregresyon-var-modeli.html"><a href="4.9-vektör-otoregresyon-var-modeli.html"><i class="fa fa-check"></i><b>4.9</b> Vektör Otoregresyon (VAR) modeli</a>
<ul>
<li class="chapter" data-level="4.9.1" data-path="4.9-vektör-otoregresyon-var-modeli.html"><a href="4.9-vektör-otoregresyon-var-modeli.html#örnek-bist100-ve-döviz-kurları-için-bir-var-modeli"><i class="fa fa-check"></i><b>4.9.1</b> Örnek: BIST100 ve Döviz kurları için bir VAR modeli</a></li>
</ul></li>
<li class="chapter" data-level="4.10" data-path="4.10-granger-nedensellik-testi.html"><a href="4.10-granger-nedensellik-testi.html"><i class="fa fa-check"></i><b>4.10</b> Granger-nedensellik testi</a>
<ul>
<li class="chapter" data-level="4.10.1" data-path="4.10-granger-nedensellik-testi.html"><a href="4.10-granger-nedensellik-testi.html#örnek"><i class="fa fa-check"></i><b>4.10.1</b> Örnek</a></li>
</ul></li>
<li class="chapter" data-level="4.11" data-path="4.11-kurmaca-regresyon-problemi.html"><a href="4.11-kurmaca-regresyon-problemi.html"><i class="fa fa-check"></i><b>4.11</b> Kurmaca Regresyon Problemi</a></li>
<li class="chapter" data-level="4.12" data-path="4.12-eşbütünleşme-cointegration.html"><a href="4.12-eşbütünleşme-cointegration.html"><i class="fa fa-check"></i><b>4.12</b> Eşbütünleşme (cointegration)</a></li>
<li class="chapter" data-level="4.13" data-path="4.13-engle-granger-eşbütünleşme-testi.html"><a href="4.13-engle-granger-eşbütünleşme-testi.html"><i class="fa fa-check"></i><b>4.13</b> Engle-Granger eşbütünleşme testi</a></li>
<li class="chapter" data-level="4.14" data-path="4.14-hata-düzeltme-modeli.html"><a href="4.14-hata-düzeltme-modeli.html"><i class="fa fa-check"></i><b>4.14</b> Hata Düzeltme Modeli</a>
<ul>
<li class="chapter" data-level="4.14.1" data-path="4.14-hata-düzeltme-modeli.html"><a href="4.14-hata-düzeltme-modeli.html#örnek-3-aylık-ve-6-aylık-hazine-bonosu-faiz-oranları-eşbütünleşik-mi"><i class="fa fa-check"></i><b>4.14.1</b> Örnek: 3-aylık ve 6-aylık hazine bonosu faiz oranları eşbütünleşik mi?</a></li>
</ul></li>
<li class="chapter" data-level="4.15" data-path="4.15-vektör-hata-düzeltme-modeli-vec-vs.-var.html"><a href="4.15-vektör-hata-düzeltme-modeli-vec-vs.-var.html"><i class="fa fa-check"></i><b>4.15</b> Vektör Hata Düzeltme Modeli (VEC) vs. VAR</a></li>
<li class="chapter" data-level="4.16" data-path="4.16-çok-değişkenli-modellerde-eşbütünleşme.html"><a href="4.16-çok-değişkenli-modellerde-eşbütünleşme.html"><i class="fa fa-check"></i><b>4.16</b> Çok değişkenli modellerde eşbütünleşme</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="5-Rmarkdown.html"><a href="5-Rmarkdown.html"><i class="fa fa-check"></i><b>5</b> RMarkdown ile Raporlama</a>
<ul>
<li class="chapter" data-level="5.1" data-path="5.1-r-markdown-nedir.html"><a href="5.1-r-markdown-nedir.html"><i class="fa fa-check"></i><b>5.1</b> R Markdown Nedir?</a></li>
<li class="chapter" data-level="5.2" data-path="5.2-başlık-ve-diğer-seçenekler.html"><a href="5.2-başlık-ve-diğer-seçenekler.html"><i class="fa fa-check"></i><b>5.2</b> Başlık ve diğer seçenekler</a></li>
<li class="chapter" data-level="5.3" data-path="5.3-programların-eklenmesi.html"><a href="5.3-programların-eklenmesi.html"><i class="fa fa-check"></i><b>5.3</b> Programların eklenmesi</a></li>
<li class="chapter" data-level="5.4" data-path="5.4-program-opsiyonları.html"><a href="5.4-program-opsiyonları.html"><i class="fa fa-check"></i><b>5.4</b> Program opsiyonları</a></li>
<li class="chapter" data-level="5.5" data-path="5.5-metin.html"><a href="5.5-metin.html"><i class="fa fa-check"></i><b>5.5</b> Metin</a></li>
<li class="chapter" data-level="5.6" data-path="5.6-grafikler.html"><a href="5.6-grafikler.html"><i class="fa fa-check"></i><b>5.6</b> Grafikler</a></li>
<li class="chapter" data-level="5.7" data-path="5.7-tablolar.html"><a href="5.7-tablolar.html"><i class="fa fa-check"></i><b>5.7</b> Tablolar</a></li>
<li class="chapter" data-level="5.8" data-path="5.8-r-markdown-cheatsheets.html"><a href="5.8-r-markdown-cheatsheets.html"><i class="fa fa-check"></i><b>5.8</b> R Markdown Cheatsheets</a></li>
<li class="chapter" data-level="5.9" data-path="5.9-örnek-türkiyede-illerde-yaşam-indeksi-göstergeleri-2015.html"><a href="5.9-örnek-türkiyede-illerde-yaşam-indeksi-göstergeleri-2015.html"><i class="fa fa-check"></i><b>5.9</b> Örnek: Türkiye’de İllerde Yaşam İndeksi Göstergeleri (2015)</a></li>
</ul></li>
<li class="divider"></li>
<li><a href="" target="blank">Araştırma Seminerleri, 10-12 Temmuz 2023, İTÜ </a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">R ile Ekonometri</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="dplyr" class="section level2 hasAnchor" number="2.4">
<h2><span class="header-section-number">2.4</span> <code>{dplyr}</code> Paketi ile Verilerin Manipülasyonu<a href="2.4-dplyr.html#dplyr" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<ul>
<li><p>Verilerin işlenmesi, özetlenmesi, birleştirilmesi, yeni veriler oluşturulması ve benzeri işlemler için çeşitli fonksiyonlar içerir.</p></li>
<li><p>Temel <code>{dplyr}</code> fonksiyonları şunlardır:</p>
<ul>
<li><code>filter()</code>: belirli mantıksal ölçütlere uygun alt kümelerin oluşturulması</li>
<li><code>select()</code>: sütunların (değişkenlerin) seçimi</li>
<li><code>mutate()</code>: yeni değişken oluşturma</li>
<li><code>summarize()</code>: verilerin özetlenmesi</li>
<li><code>arrange()</code>: verilerin sıralanması</li>
</ul></li>
<li><p>Tüm işlemler, satır seçimi, sütun seçimi, yeni değişken oluşturma, özetleme, sıralama, veri içindeki grup değişken(ler)ine göre yapılabilir. Bunun için <code>group_by()</code> fonksiyonu kullanılır.</p></li>
</ul>
<div id="filter-gözlemlerin-filtrelenmesi" class="section level3 hasAnchor" number="2.4.1">
<h3><span class="header-section-number">2.4.1</span> <code>filter()</code>: gözlemlerin filtrelenmesi<a href="2.4-dplyr.html#filter-gözlemlerin-filtrelenmesi" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<ul>
<li><p><code>dplyr::filter()</code> fonksiyonu ile satırlara göre alt kümeler oluşturabiliriz.</p></li>
<li><p>Belirttiğimiz kriterlere uygun gözlemlerden oluşan yeni veri çerçeveleri veya tablolar oluşturabiliriz.</p></li>
</ul>
<p><img src="img/filter.png" /></p>
<ul>
<li><strong>Örnek</strong> <code>gapminder</code> ülke veri setinde Türkiye’nin gözlemlerini almak istediğimizi düşünelim. Veri setini incelediğimizde Türkiye’nin 1573 ile 1584 satırları arasında yer aldığını görüyoruz. Bu bilgiden hareketle Türkiye veri setini aşağıdaki gibi oluşturabiliriz:</li>
</ul>
<div class="sourceCode" id="cb391"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb391-1"><a href="2.4-dplyr.html#cb391-1" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb391-2"><a href="2.4-dplyr.html#cb391-2" tabindex="-1"></a><span class="fu">library</span>(gapminder)</span>
<span id="cb391-3"><a href="2.4-dplyr.html#cb391-3" tabindex="-1"></a>(turkey <span class="ot">&lt;-</span> gapminder[<span class="dv">1573</span><span class="sc">:</span><span class="dv">1584</span>,])</span></code></pre></div>
<pre><code>## # A tibble: 12 × 6
##    country continent  year lifeExp      pop gdpPercap
##    &lt;fct&gt;   &lt;fct&gt;     &lt;int&gt;   &lt;dbl&gt;    &lt;int&gt;     &lt;dbl&gt;
##  1 Turkey  Europe     1952    43.6 22235677     1969.
##  2 Turkey  Europe     1957    48.1 25670939     2219.
##  3 Turkey  Europe     1962    52.1 29788695     2323.
##  4 Turkey  Europe     1967    54.3 33411317     2826.
##  5 Turkey  Europe     1972    57.0 37492953     3451.
##  6 Turkey  Europe     1977    59.5 42404033     4269.
##  7 Turkey  Europe     1982    61.0 47328791     4241.
##  8 Turkey  Europe     1987    63.1 52881328     5089.
##  9 Turkey  Europe     1992    66.1 58179144     5678.
## 10 Turkey  Europe     1997    68.8 63047647     6601.
## 11 Turkey  Europe     2002    70.8 67308928     6508.
## 12 Turkey  Europe     2007    71.8 71158647     8458.</code></pre>
<ul>
<li><p>Satır numaralarını kullanarak verileri çekmek hata olasılığını arttırdığı için tercih edilmemelidir.</p></li>
<li><p>Bunun yerine <code>dplyr::filter()</code> fonksiyonunu kullanabiliriz. Bu fonksiyonun girdisi verilerin satırlarına uygulanan mantıksal ifadelerdir. Örneğin:</p></li>
</ul>
<div class="sourceCode" id="cb393"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb393-1"><a href="2.4-dplyr.html#cb393-1" tabindex="-1"></a><span class="fu">filter</span>(gapminder, country <span class="sc">==</span> <span class="st">&quot;Turkey&quot;</span>)</span></code></pre></div>
<pre><code>## # A tibble: 12 × 6
##    country continent  year lifeExp      pop gdpPercap
##    &lt;fct&gt;   &lt;fct&gt;     &lt;int&gt;   &lt;dbl&gt;    &lt;int&gt;     &lt;dbl&gt;
##  1 Turkey  Europe     1952    43.6 22235677     1969.
##  2 Turkey  Europe     1957    48.1 25670939     2219.
##  3 Turkey  Europe     1962    52.1 29788695     2323.
##  4 Turkey  Europe     1967    54.3 33411317     2826.
##  5 Turkey  Europe     1972    57.0 37492953     3451.
##  6 Turkey  Europe     1977    59.5 42404033     4269.
##  7 Turkey  Europe     1982    61.0 47328791     4241.
##  8 Turkey  Europe     1987    63.1 52881328     5089.
##  9 Turkey  Europe     1992    66.1 58179144     5678.
## 10 Turkey  Europe     1997    68.8 63047647     6601.
## 11 Turkey  Europe     2002    70.8 67308928     6508.
## 12 Turkey  Europe     2007    71.8 71158647     8458.</code></pre>
<ul>
<li><p>Bu fonksiyonun kullanımı baz <code>R</code>’daki <code>subset()</code> fonksiyonuna benzemektedir.</p></li>
<li><p><code>filter()</code> fonksiyonu çoklu ifadelerin kullanılmasına izin verir. Örneğin, Türkiye’nin 2000 sonrası verileri için aşağıdaki komutu kullanabiliriz:</p></li>
</ul>
<div class="sourceCode" id="cb395"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb395-1"><a href="2.4-dplyr.html#cb395-1" tabindex="-1"></a><span class="fu">filter</span>(gapminder, country <span class="sc">==</span> <span class="st">&quot;Turkey&quot;</span>, year<span class="sc">&gt;</span><span class="dv">2000</span>)</span></code></pre></div>
<pre><code>## # A tibble: 2 × 6
##   country continent  year lifeExp      pop gdpPercap
##   &lt;fct&gt;   &lt;fct&gt;     &lt;int&gt;   &lt;dbl&gt;    &lt;int&gt;     &lt;dbl&gt;
## 1 Turkey  Europe     2002    70.8 67308928     6508.
## 2 Turkey  Europe     2007    71.8 71158647     8458.</code></pre>
<ul>
<li><strong>Örnek</strong>: Türkiye ve Brezilya’nın 2000 sonrası gözlemlerini içeren bir tablo oluştur:</li>
</ul>
<div class="sourceCode" id="cb397"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb397-1"><a href="2.4-dplyr.html#cb397-1" tabindex="-1"></a><span class="fu">filter</span>(gapminder, country <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">&quot;Turkey&quot;</span>,<span class="st">&quot;Brazil&quot;</span>), year<span class="sc">&gt;</span><span class="dv">2000</span>)</span></code></pre></div>
<pre><code>## # A tibble: 4 × 6
##   country continent  year lifeExp       pop gdpPercap
##   &lt;fct&gt;   &lt;fct&gt;     &lt;int&gt;   &lt;dbl&gt;     &lt;int&gt;     &lt;dbl&gt;
## 1 Brazil  Americas   2002    71.0 179914212     8131.
## 2 Brazil  Americas   2007    72.4 190010647     9066.
## 3 Turkey  Europe     2002    70.8  67308928     6508.
## 4 Turkey  Europe     2007    71.8  71158647     8458.</code></pre>
</div>
<div id="select-değişkenlerin-seçimi" class="section level3 hasAnchor" number="2.4.2">
<h3><span class="header-section-number">2.4.2</span> <code>select()</code>: değişkenlerin seçimi<a href="2.4-dplyr.html#select-değişkenlerin-seçimi" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<div class="float">
<img src="img/select.png" alt="select() fonksiyonu" />
<div class="figcaption"><code>select()</code> fonksiyonu</div>
</div>
<ul>
<li><p>Sütunlardan (değişkenlerden) hareketle yeni bir tablo (tibble) oluşturmak istersek <code>dplyr::select()</code> fonksiyonunu kullanabiliriz.</p></li>
<li><p>*<strong>Örnek</strong> <code>mtcars</code> veri setinde <code>mpg</code>, <code>cyl</code>, <code>hp</code> değişkenlerinden oluşan bir tablo oluştur</p></li>
</ul>
<div class="sourceCode" id="cb399"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb399-1"><a href="2.4-dplyr.html#cb399-1" tabindex="-1"></a>mtcars</span></code></pre></div>
<pre><code>## # A tibble: 32 × 11
##      mpg   cyl  disp    hp  drat    wt  qsec    vs    am  gear  carb
##    &lt;dbl&gt; &lt;int&gt; &lt;dbl&gt; &lt;int&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;int&gt; &lt;int&gt; &lt;int&gt; &lt;int&gt;
##  1  21       6  160    110  3.9   2.62  16.5     0     1     4     4
##  2  21       6  160    110  3.9   2.88  17.0     0     1     4     4
##  3  22.8     4  108     93  3.85  2.32  18.6     1     1     4     1
##  4  21.4     6  258    110  3.08  3.22  19.4     1     0     3     1
##  5  18.7     8  360    175  3.15  3.44  17.0     0     0     3     2
##  6  18.1     6  225    105  2.76  3.46  20.2     1     0     3     1
##  7  14.3     8  360    245  3.21  3.57  15.8     0     0     3     4
##  8  24.4     4  147.    62  3.69  3.19  20       1     0     4     2
##  9  22.8     4  141.    95  3.92  3.15  22.9     1     0     4     2
## 10  19.2     6  168.   123  3.92  3.44  18.3     1     0     4     4
## # ℹ 22 more rows</code></pre>
<div class="sourceCode" id="cb401"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb401-1"><a href="2.4-dplyr.html#cb401-1" tabindex="-1"></a><span class="co"># dplyr::select() can clash with MASS::select()</span></span>
<span id="cb401-2"><a href="2.4-dplyr.html#cb401-2" tabindex="-1"></a><span class="fu">library</span>(dplyr)</span>
<span id="cb401-3"><a href="2.4-dplyr.html#cb401-3" tabindex="-1"></a>mtcars2 <span class="ot">&lt;-</span> dplyr<span class="sc">::</span><span class="fu">select</span>(mtcars, mpg, cyl, hp)</span>
<span id="cb401-4"><a href="2.4-dplyr.html#cb401-4" tabindex="-1"></a>mtcars2</span></code></pre></div>
<pre><code>## # A tibble: 32 × 3
##      mpg   cyl    hp
##    &lt;dbl&gt; &lt;int&gt; &lt;int&gt;
##  1  21       6   110
##  2  21       6   110
##  3  22.8     4    93
##  4  21.4     6   110
##  5  18.7     8   175
##  6  18.1     6   105
##  7  14.3     8   245
##  8  24.4     4    62
##  9  22.8     4    95
## 10  19.2     6   123
## # ℹ 22 more rows</code></pre>
<ul>
<li><p><code>filter()</code> komutu ile birlikte kullanılabilir.</p></li>
<li><p><strong>Örnek</strong>: <code>gapminder</code> veri setinde Türkiye için sadece yıl, yaşam beklentisi ve kişi başına GDP değişkenlerinden oluşan bir veri çerçevesi oluştur:</p></li>
</ul>
<div class="sourceCode" id="cb403"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb403-1"><a href="2.4-dplyr.html#cb403-1" tabindex="-1"></a>gapminder <span class="sc">|&gt;</span> <span class="fu">filter</span>(country <span class="sc">==</span> <span class="st">&quot;Turkey&quot;</span>) <span class="sc">|&gt;</span> </span>
<span id="cb403-2"><a href="2.4-dplyr.html#cb403-2" tabindex="-1"></a>  <span class="fu">select</span>(year, lifeExp, gdpPercap)</span></code></pre></div>
<pre><code>## # A tibble: 12 × 3
##     year lifeExp gdpPercap
##    &lt;int&gt;   &lt;dbl&gt;     &lt;dbl&gt;
##  1  1952    43.6     1969.
##  2  1957    48.1     2219.
##  3  1962    52.1     2323.
##  4  1967    54.3     2826.
##  5  1972    57.0     3451.
##  6  1977    59.5     4269.
##  7  1982    61.0     4241.
##  8  1987    63.1     5089.
##  9  1992    66.1     5678.
## 10  1997    68.8     6601.
## 11  2002    70.8     6508.
## 12  2007    71.8     8458.</code></pre>
<ul>
<li><p><strong>(pipe) işlemcisi %&gt;% (magrittr paketi) veya |&gt; (R native) </strong>: bu işlemciyi kullanarak <code>f(g(x))</code> gibi bir işlemi <code>x %&gt;% g() %&gt;% f()</code> şeklinde yazabiliriz. Böylece yazdığımız programlar daha basit ve anlaşılır olabilir.</p></li>
<li><p>Önceki örnekte <code>gapminder</code> veri seti önce <code>filter()</code> fonksiyonuna gönderilerek Türkiye seçildi. Sonraki <code>%&gt;%</code> işlemi ile <code>select()</code> fonksiyonuna gönderildi ve sütunlar seçildi. Aynı kodu şöyle de yazabilirdik:</p></li>
</ul>
<div class="sourceCode" id="cb405"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb405-1"><a href="2.4-dplyr.html#cb405-1" tabindex="-1"></a><span class="fu">select</span>(<span class="fu">filter</span>(gapminder, country <span class="sc">==</span> <span class="st">&quot;Turkey&quot;</span>), year, lifeExp, gdpPercap)</span></code></pre></div>
<pre><code>## # A tibble: 12 × 3
##     year lifeExp gdpPercap
##    &lt;int&gt;   &lt;dbl&gt;     &lt;dbl&gt;
##  1  1952    43.6     1969.
##  2  1957    48.1     2219.
##  3  1962    52.1     2323.
##  4  1967    54.3     2826.
##  5  1972    57.0     3451.
##  6  1977    59.5     4269.
##  7  1982    61.0     4241.
##  8  1987    63.1     5089.
##  9  1992    66.1     5678.
## 10  1997    68.8     6601.
## 11  2002    70.8     6508.
## 12  2007    71.8     8458.</code></pre>
<ul>
<li><strong>Örnek</strong>: Türkiye ve Brezilya için 2000 sonrasında kişi başına GDP değişkenini içeren bir tablo oluştur:</li>
</ul>
<div class="sourceCode" id="cb407"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb407-1"><a href="2.4-dplyr.html#cb407-1" tabindex="-1"></a>gapminder  <span class="sc">|&gt;</span>  <span class="fu">filter</span>(country <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">&quot;Turkey&quot;</span>,<span class="st">&quot;Brazil&quot;</span>), year<span class="sc">&gt;</span><span class="dv">2000</span>) <span class="sc">|&gt;</span>  </span>
<span id="cb407-2"><a href="2.4-dplyr.html#cb407-2" tabindex="-1"></a>  <span class="fu">select</span>(year, country, gdpPercap)</span></code></pre></div>
<pre><code>## # A tibble: 4 × 3
##    year country gdpPercap
##   &lt;int&gt; &lt;fct&gt;       &lt;dbl&gt;
## 1  2002 Brazil      8131.
## 2  2007 Brazil      9066.
## 3  2002 Turkey      6508.
## 4  2007 Turkey      8458.</code></pre>
<ul>
<li><p><strong>Alıştırma</strong>: Önceki örnekteki tabloyu sadece baz R fonksiyonlarını kullanarak oluşturunuz.</p></li>
<li><p><strong>Çözüm</strong>: <code>R</code>’da bir görevi yerine getirmenin birden çok yolu olabilir. Bir çözüm:</p></li>
</ul>
<div class="sourceCode" id="cb409"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb409-1"><a href="2.4-dplyr.html#cb409-1" tabindex="-1"></a>gapminder[gapminder<span class="sc">$</span>country  <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">&quot;Turkey&quot;</span>, <span class="st">&quot;Brazil&quot;</span>) <span class="sc">&amp;</span> gapminder<span class="sc">$</span>year<span class="sc">&gt;</span><span class="dv">2000</span>, <span class="fu">c</span>(<span class="st">&quot;year&quot;</span>, <span class="st">&quot;gdpPercap&quot;</span>)]</span></code></pre></div>
<pre><code>## # A tibble: 4 × 2
##    year gdpPercap
##   &lt;int&gt;     &lt;dbl&gt;
## 1  2002     8131.
## 2  2007     9066.
## 3  2002     6508.
## 4  2007     8458.</code></pre>
<ul>
<li>Eğer bir sütunu alıp atomik bir vektör oluşturmak istersek <code>pull()</code> fonksiyonunu kullanabiliriz. Örneğin, <code>gapminder</code> veri setindeki ülkelerin isimlerini içeren bir karakter vektörü uluşturalım:</li>
</ul>
<div class="sourceCode" id="cb411"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb411-1"><a href="2.4-dplyr.html#cb411-1" tabindex="-1"></a>ulkeler <span class="ot">&lt;-</span> <span class="fu">unique</span>(<span class="fu">pull</span>(gapminder, country))</span>
<span id="cb411-2"><a href="2.4-dplyr.html#cb411-2" tabindex="-1"></a><span class="fu">head</span>(ulkeler)</span></code></pre></div>
<pre><code>## [1] Afghanistan Albania     Algeria     Angola      Argentina   Australia  
## 142 Levels: Afghanistan Albania Algeria Angola Argentina Australia Austria ... Zimbabwe</code></pre>
<ul>
<li>Sütun seçimine yardımcı olabilecek fonksiyonlar:
<ul>
<li><code>contains()</code>: bir ifadeyi içeren sütunları seçer</li>
<li><code>ends_with()</code>: belirli bir ifade ile biten sütunları seçer</li>
<li><code>starts_with()</code>: belirli bir ifadeyle başlayan sütunları seçer</li>
<li><code>matches()</code>: bir ifadeyle eşleşen sütunları seçer</li>
</ul></li>
</ul>
</div>
<div id="mutate-yeni-değişken-oluşturma" class="section level3 hasAnchor" number="2.4.3">
<h3><span class="header-section-number">2.4.3</span> <code>mutate()</code>: yeni değişken oluşturma<a href="2.4-dplyr.html#mutate-yeni-değişken-oluşturma" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p><img src="img/mutate.png" /></p>
<ul>
<li><p><code>dplyr::mutate()</code> fonksiyonu ile veri setine yeni değişkenler (sütunlar) ekleyebiliriz.</p></li>
<li><p><code>mutate()</code> içinde kullanılan fonksiyonlar vektörleştirilmiş olmalıdır; yani hem girdi hem de çıktı vektör olmalıdır.</p></li>
<li><p><strong>Örnek</strong>: Kişi başına GDP’nin doğal logaritmasının ayrı bir değişen olarak veri setine eklenmesi:</p></li>
</ul>
<div class="sourceCode" id="cb413"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb413-1"><a href="2.4-dplyr.html#cb413-1" tabindex="-1"></a><span class="fu">mutate</span>(gapminder, <span class="at">lgdppc =</span> <span class="fu">log</span>(gdpPercap))  <span class="sc">|&gt;</span>  </span>
<span id="cb413-2"><a href="2.4-dplyr.html#cb413-2" tabindex="-1"></a>  <span class="fu">head</span>(<span class="dv">5</span>)</span></code></pre></div>
<pre><code>## # A tibble: 5 × 7
##   country     continent  year lifeExp      pop gdpPercap lgdppc
##   &lt;fct&gt;       &lt;fct&gt;     &lt;int&gt;   &lt;dbl&gt;    &lt;int&gt;     &lt;dbl&gt;  &lt;dbl&gt;
## 1 Afghanistan Asia       1952    28.8  8425333      779.   6.66
## 2 Afghanistan Asia       1957    30.3  9240934      821.   6.71
## 3 Afghanistan Asia       1962    32.0 10267083      853.   6.75
## 4 Afghanistan Asia       1967    34.0 11537966      836.   6.73
## 5 Afghanistan Asia       1972    36.1 13079460      740.   6.61</code></pre>
<ul>
<li><strong>Örnek</strong>: Veri setinde kişi başına GDP değerleri var ancak toplam GDP yok. Nüfus bilgisini kullanarak toplam ülke GDP değerlerini oluşturunuz.</li>
</ul>
<div class="sourceCode" id="cb415"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb415-1"><a href="2.4-dplyr.html#cb415-1" tabindex="-1"></a><span class="fu">mutate</span>(gapminder, <span class="at">gdp =</span> gdpPercap<span class="sc">*</span>pop )  <span class="sc">|&gt;</span> </span>
<span id="cb415-2"><a href="2.4-dplyr.html#cb415-2" tabindex="-1"></a>  <span class="fu">select</span>(year, country, gdpPercap, pop, gdp) <span class="sc">|&gt;</span>  </span>
<span id="cb415-3"><a href="2.4-dplyr.html#cb415-3" tabindex="-1"></a>  <span class="fu">head</span>(<span class="dv">5</span>)</span></code></pre></div>
<pre><code>## # A tibble: 5 × 5
##    year country     gdpPercap      pop         gdp
##   &lt;int&gt; &lt;fct&gt;           &lt;dbl&gt;    &lt;int&gt;       &lt;dbl&gt;
## 1  1952 Afghanistan      779.  8425333 6567086330.
## 2  1957 Afghanistan      821.  9240934 7585448670.
## 3  1962 Afghanistan      853. 10267083 8758855797.
## 4  1967 Afghanistan      836. 11537966 9648014150.
## 5  1972 Afghanistan      740. 13079460 9678553274.</code></pre>
<ul>
<li><code>mutate()</code> ile ilişkili diğer fonksiyonlar:
<ul>
<li><code>transmute()</code>: yeni değişkenler oluşturur ve mevcut değişkenleri siler.</li>
<li><code>mutate_all()</code>: bir fonksiyonu tüm sütunlara uygular</li>
<li><code>mutate_if()</code>: sadece kritere uyan sütunlara bir fonksiyonu uygular</li>
<li><code>mutate_at()</code>: bir fonksiyonu belirtilmiş sütunlara uygular</li>
</ul></li>
<li><strong>Örnekler</strong></li>
</ul>
<div class="sourceCode" id="cb417"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb417-1"><a href="2.4-dplyr.html#cb417-1" tabindex="-1"></a>df <span class="ot">&lt;-</span> <span class="fu">tibble</span>(<span class="at">x =</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">5</span>, </span>
<span id="cb417-2"><a href="2.4-dplyr.html#cb417-2" tabindex="-1"></a>             <span class="at">y =</span> <span class="dv">20</span><span class="sc">:</span><span class="dv">16</span>, </span>
<span id="cb417-3"><a href="2.4-dplyr.html#cb417-3" tabindex="-1"></a>             <span class="at">z =</span> letters[<span class="dv">1</span><span class="sc">:</span><span class="dv">5</span>])</span>
<span id="cb417-4"><a href="2.4-dplyr.html#cb417-4" tabindex="-1"></a>df</span></code></pre></div>
<pre><code>## # A tibble: 5 × 3
##       x     y z    
##   &lt;int&gt; &lt;int&gt; &lt;chr&gt;
## 1     1    20 a    
## 2     2    19 b    
## 3     3    18 c    
## 4     4    17 d    
## 5     5    16 e</code></pre>
<div class="sourceCode" id="cb419"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb419-1"><a href="2.4-dplyr.html#cb419-1" tabindex="-1"></a><span class="co"># transmute() drops variables after mutating</span></span>
<span id="cb419-2"><a href="2.4-dplyr.html#cb419-2" tabindex="-1"></a>df  <span class="sc">|&gt;</span> <span class="fu">transmute</span>(<span class="at">w =</span> x<span class="sc">*</span>y)</span></code></pre></div>
<pre><code>## # A tibble: 5 × 1
##       w
##   &lt;int&gt;
## 1    20
## 2    38
## 3    54
## 4    68
## 5    80</code></pre>
<div class="sourceCode" id="cb421"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb421-1"><a href="2.4-dplyr.html#cb421-1" tabindex="-1"></a><span class="co"># nümerik sütunların doğal logaritmasını ve 10 tabanına göre </span></span>
<span id="cb421-2"><a href="2.4-dplyr.html#cb421-2" tabindex="-1"></a><span class="co"># logaritmasını al</span></span>
<span id="cb421-3"><a href="2.4-dplyr.html#cb421-3" tabindex="-1"></a><span class="co"># çoklu dönüştürmeler list() içinde belirtilmeli</span></span>
<span id="cb421-4"><a href="2.4-dplyr.html#cb421-4" tabindex="-1"></a>df <span class="sc">|&gt;</span> <span class="fu">mutate_if</span>(is.numeric, <span class="fu">list</span>(<span class="at">ln =</span> log, <span class="at">log10 =</span> log10))</span></code></pre></div>
<pre><code>## # A tibble: 5 × 7
##       x     y z      x_ln  y_ln x_log10 y_log10
##   &lt;int&gt; &lt;int&gt; &lt;chr&gt; &lt;dbl&gt; &lt;dbl&gt;   &lt;dbl&gt;   &lt;dbl&gt;
## 1     1    20 a     0      3.00   0        1.30
## 2     2    19 b     0.693  2.94   0.301    1.28
## 3     3    18 c     1.10   2.89   0.477    1.26
## 4     4    17 d     1.39   2.83   0.602    1.23
## 5     5    16 e     1.61   2.77   0.699    1.20</code></pre>
<div class="sourceCode" id="cb423"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb423-1"><a href="2.4-dplyr.html#cb423-1" tabindex="-1"></a><span class="co"># character değişkenin varsa factor değişkenine dönüştür </span></span>
<span id="cb423-2"><a href="2.4-dplyr.html#cb423-2" tabindex="-1"></a>df <span class="sc">|&gt;</span> <span class="fu">mutate_if</span>(is.character, as.factor)</span></code></pre></div>
<pre><code>## # A tibble: 5 × 3
##       x     y z    
##   &lt;int&gt; &lt;int&gt; &lt;fct&gt;
## 1     1    20 a    
## 2     2    19 b    
## 3     3    18 c    
## 4     4    17 d    
## 5     5    16 e</code></pre>
<div class="sourceCode" id="cb425"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb425-1"><a href="2.4-dplyr.html#cb425-1" tabindex="-1"></a><span class="co"># sadece x ve y&#39;nin karelerini ayrı sütun olarak ekle</span></span>
<span id="cb425-2"><a href="2.4-dplyr.html#cb425-2" tabindex="-1"></a>df <span class="sc">|&gt;</span> <span class="fu">mutate_at</span>(<span class="fu">c</span>(<span class="st">&quot;x&quot;</span>, <span class="st">&quot;y&quot;</span>), <span class="fu">list</span>(<span class="at">sq =</span> <span class="cf">function</span>(x) x<span class="sc">^</span><span class="dv">2</span>))</span></code></pre></div>
<pre><code>## # A tibble: 5 × 5
##       x     y z      x_sq  y_sq
##   &lt;int&gt; &lt;int&gt; &lt;chr&gt; &lt;dbl&gt; &lt;dbl&gt;
## 1     1    20 a         1   400
## 2     2    19 b         4   361
## 3     3    18 c         9   324
## 4     4    17 d        16   289
## 5     5    16 e        25   256</code></pre>
<ul>
<li><code>mutate()</code> içinde kullanılan fonksiyonları vektörize olması gerekir. Yani bir vektör girdisine karşılık bir vektör çıktısı hesaplanır. Bu fonksiyonlardan bazıları şunlardır:
<ul>
<li><code>dplyr::lag()</code>: bir vektörün gecikmesini alır. <code>stats::lag()</code> ile karıştırılmamalıdır.</li>
<li><code>dplyr::lead()</code>: bir vektörün öncü değerlerini oluşturur.</li>
<li>kümülatif aritmetik işlemler: <code>cumall()</code>, <code>cumany()</code>, <code>cummax()</code>, <code>cummean()</code>, <code>cummin()</code>, <code>cumprod()</code>, <code>cumsum()</code></li>
<li>sıralamalar: <code>min_rank()</code>, <code>percent_rank()</code>, <code>row_number()</code>, <code>cume_dist()</code></li>
<li>matematiksel işlemler: <code>+</code>, <code>-</code>, <code>*</code>, <code>/</code>, <code>^</code>, <code>%%</code>, <code>log</code>, <code>log10</code>, …</li>
<li>mantıksal işlemler: <code>==</code>, <code>&lt;</code>, <code>&lt;=</code>, <code>&gt;</code>, <code>&gt;=</code>, <code>!=</code>, <code>between()</code>, <code>near()</code></li>
<li><code>if_else()</code>: koşullu işlemleri eleman bazında uygular</li>
<li><code>case_when()</code>: çoklu if-else</li>
<li><code>na_if()</code>: NA değerleri yerine belirli değerleri yaz</li>
</ul></li>
</ul>
</div>
<div id="arrange-verilerin-sıralanması" class="section level3 hasAnchor" number="2.4.4">
<h3><span class="header-section-number">2.4.4</span> <code>arrange()</code>: verilerin sıralanması<a href="2.4-dplyr.html#arrange-verilerin-sıralanması" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p><img src="img/arrange.png" /></p>
<ul>
<li><p>Veri setinin satırlarının (gözlemlerin) sıralanmasında <code>dplyr::arrange()</code> fonksiyonu kullanılabilir.</p></li>
<li><p><strong>Örnek</strong>: <code>gapminder</code> veri setini yıla göre sırala.</p></li>
</ul>
<div class="sourceCode" id="cb427"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb427-1"><a href="2.4-dplyr.html#cb427-1" tabindex="-1"></a><span class="fu">arrange</span>(gapminder, year)</span></code></pre></div>
<pre><code>## # A tibble: 1,704 × 6
##    country     continent  year lifeExp      pop gdpPercap
##    &lt;fct&gt;       &lt;fct&gt;     &lt;int&gt;   &lt;dbl&gt;    &lt;int&gt;     &lt;dbl&gt;
##  1 Afghanistan Asia       1952    28.8  8425333      779.
##  2 Albania     Europe     1952    55.2  1282697     1601.
##  3 Algeria     Africa     1952    43.1  9279525     2449.
##  4 Angola      Africa     1952    30.0  4232095     3521.
##  5 Argentina   Americas   1952    62.5 17876956     5911.
##  6 Australia   Oceania    1952    69.1  8691212    10040.
##  7 Austria     Europe     1952    66.8  6927772     6137.
##  8 Bahrain     Asia       1952    50.9   120447     9867.
##  9 Bangladesh  Asia       1952    37.5 46886859      684.
## 10 Belgium     Europe     1952    68    8730405     8343.
## # ℹ 1,694 more rows</code></pre>
<p>Default olarak küçükten büyüğe sıraladı. Büyükten küçüğe sıralamak istersek:</p>
<div class="sourceCode" id="cb429"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb429-1"><a href="2.4-dplyr.html#cb429-1" tabindex="-1"></a><span class="fu">arrange</span>(gapminder, <span class="fu">desc</span>(year))</span></code></pre></div>
<pre><code>## # A tibble: 1,704 × 6
##    country     continent  year lifeExp       pop gdpPercap
##    &lt;fct&gt;       &lt;fct&gt;     &lt;int&gt;   &lt;dbl&gt;     &lt;int&gt;     &lt;dbl&gt;
##  1 Afghanistan Asia       2007    43.8  31889923      975.
##  2 Albania     Europe     2007    76.4   3600523     5937.
##  3 Algeria     Africa     2007    72.3  33333216     6223.
##  4 Angola      Africa     2007    42.7  12420476     4797.
##  5 Argentina   Americas   2007    75.3  40301927    12779.
##  6 Australia   Oceania    2007    81.2  20434176    34435.
##  7 Austria     Europe     2007    79.8   8199783    36126.
##  8 Bahrain     Asia       2007    75.6    708573    29796.
##  9 Bangladesh  Asia       2007    64.1 150448339     1391.
## 10 Belgium     Europe     2007    79.4  10392226    33693.
## # ℹ 1,694 more rows</code></pre>
<ul>
<li><strong>Örnek</strong>: Yılı artan, ülkeleri alfabetik olacak şekilde satırları yeniden düzenle:</li>
</ul>
<div class="sourceCode" id="cb431"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb431-1"><a href="2.4-dplyr.html#cb431-1" tabindex="-1"></a><span class="fu">arrange</span>(gapminder, year, country) </span></code></pre></div>
<pre><code>## # A tibble: 1,704 × 6
##    country     continent  year lifeExp      pop gdpPercap
##    &lt;fct&gt;       &lt;fct&gt;     &lt;int&gt;   &lt;dbl&gt;    &lt;int&gt;     &lt;dbl&gt;
##  1 Afghanistan Asia       1952    28.8  8425333      779.
##  2 Albania     Europe     1952    55.2  1282697     1601.
##  3 Algeria     Africa     1952    43.1  9279525     2449.
##  4 Angola      Africa     1952    30.0  4232095     3521.
##  5 Argentina   Americas   1952    62.5 17876956     5911.
##  6 Australia   Oceania    1952    69.1  8691212    10040.
##  7 Austria     Europe     1952    66.8  6927772     6137.
##  8 Bahrain     Asia       1952    50.9   120447     9867.
##  9 Bangladesh  Asia       1952    37.5 46886859      684.
## 10 Belgium     Europe     1952    68    8730405     8343.
## # ℹ 1,694 more rows</code></pre>
<ul>
<li><strong>Örnek</strong>: Ülkeler alfabetik, yıl artan:</li>
</ul>
<div class="sourceCode" id="cb433"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb433-1"><a href="2.4-dplyr.html#cb433-1" tabindex="-1"></a><span class="fu">arrange</span>(gapminder, country, year) </span></code></pre></div>
<pre><code>## # A tibble: 1,704 × 6
##    country     continent  year lifeExp      pop gdpPercap
##    &lt;fct&gt;       &lt;fct&gt;     &lt;int&gt;   &lt;dbl&gt;    &lt;int&gt;     &lt;dbl&gt;
##  1 Afghanistan Asia       1952    28.8  8425333      779.
##  2 Afghanistan Asia       1957    30.3  9240934      821.
##  3 Afghanistan Asia       1962    32.0 10267083      853.
##  4 Afghanistan Asia       1967    34.0 11537966      836.
##  5 Afghanistan Asia       1972    36.1 13079460      740.
##  6 Afghanistan Asia       1977    38.4 14880372      786.
##  7 Afghanistan Asia       1982    39.9 12881816      978.
##  8 Afghanistan Asia       1987    40.8 13867957      852.
##  9 Afghanistan Asia       1992    41.7 16317921      649.
## 10 Afghanistan Asia       1997    41.8 22227415      635.
## # ℹ 1,694 more rows</code></pre>
<ul>
<li><code>filter()</code> ve <code>arrange()</code> birlikte kullanılabilir. Örneğin:</li>
</ul>
<div class="sourceCode" id="cb435"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb435-1"><a href="2.4-dplyr.html#cb435-1" tabindex="-1"></a>gapminder <span class="sc">|&gt;</span>  </span>
<span id="cb435-2"><a href="2.4-dplyr.html#cb435-2" tabindex="-1"></a>  <span class="fu">filter</span>(year<span class="sc">==</span><span class="dv">2007</span>, continent<span class="sc">==</span><span class="st">&quot;Americas&quot;</span>) <span class="sc">|&gt;</span> </span>
<span id="cb435-3"><a href="2.4-dplyr.html#cb435-3" tabindex="-1"></a>  <span class="fu">arrange</span>(lifeExp) </span></code></pre></div>
<pre><code>## # A tibble: 25 × 6
##    country             continent  year lifeExp       pop gdpPercap
##    &lt;fct&gt;               &lt;fct&gt;     &lt;int&gt;   &lt;dbl&gt;     &lt;int&gt;     &lt;dbl&gt;
##  1 Haiti               Americas   2007    60.9   8502814     1202.
##  2 Bolivia             Americas   2007    65.6   9119152     3822.
##  3 Trinidad and Tobago Americas   2007    69.8   1056608    18009.
##  4 Honduras            Americas   2007    70.2   7483763     3548.
##  5 Guatemala           Americas   2007    70.3  12572928     5186.
##  6 Peru                Americas   2007    71.4  28674757     7409.
##  7 Paraguay            Americas   2007    71.8   6667147     4173.
##  8 El Salvador         Americas   2007    71.9   6939688     5728.
##  9 Dominican Republic  Americas   2007    72.2   9319622     6025.
## 10 Brazil              Americas   2007    72.4 190010647     9066.
## # ℹ 15 more rows</code></pre>
<ul>
<li><strong>Örnek</strong>: 2007 yılında Avrupa kıtasındaki ülkelerde yaşam beklentisini büyükten küçüğe sıralayınız.</li>
</ul>
<div class="sourceCode" id="cb437"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb437-1"><a href="2.4-dplyr.html#cb437-1" tabindex="-1"></a>gapminder <span class="sc">|&gt;</span>  </span>
<span id="cb437-2"><a href="2.4-dplyr.html#cb437-2" tabindex="-1"></a>  <span class="fu">filter</span>(year<span class="sc">==</span><span class="dv">2007</span>, continent<span class="sc">==</span><span class="st">&quot;Europe&quot;</span>) <span class="sc">|&gt;</span>  </span>
<span id="cb437-3"><a href="2.4-dplyr.html#cb437-3" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(lifeExp)) </span></code></pre></div>
<pre><code>## # A tibble: 30 × 6
##    country     continent  year lifeExp      pop gdpPercap
##    &lt;fct&gt;       &lt;fct&gt;     &lt;int&gt;   &lt;dbl&gt;    &lt;int&gt;     &lt;dbl&gt;
##  1 Iceland     Europe     2007    81.8   301931    36181.
##  2 Switzerland Europe     2007    81.7  7554661    37506.
##  3 Spain       Europe     2007    80.9 40448191    28821.
##  4 Sweden      Europe     2007    80.9  9031088    33860.
##  5 France      Europe     2007    80.7 61083916    30470.
##  6 Italy       Europe     2007    80.5 58147733    28570.
##  7 Norway      Europe     2007    80.2  4627926    49357.
##  8 Austria     Europe     2007    79.8  8199783    36126.
##  9 Netherlands Europe     2007    79.8 16570613    36798.
## 10 Greece      Europe     2007    79.5 10706290    27538.
## # ℹ 20 more rows</code></pre>
</div>
<div id="group_by-verilerin-gruplanması" class="section level3 hasAnchor" number="2.4.5">
<h3><span class="header-section-number">2.4.5</span> <code>group_by()</code>: verilerin gruplanması<a href="2.4-dplyr.html#group_by-verilerin-gruplanması" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<ul>
<li><p>Verilerin gruplandırılması amacıyla kullanılır.</p></li>
<li><p>Verilerin görünümünü değiştirmez.</p></li>
<li><p><code>summarize()</code> gibi diğer fonksiyonlarla birlikte kullanılabilir.</p></li>
</ul>
<div class="sourceCode" id="cb439"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb439-1"><a href="2.4-dplyr.html#cb439-1" tabindex="-1"></a>gapminder <span class="sc">|&gt;</span>  </span>
<span id="cb439-2"><a href="2.4-dplyr.html#cb439-2" tabindex="-1"></a>  <span class="fu">group_by</span>(continent, year)  </span></code></pre></div>
<pre><code>## # A tibble: 1,704 × 6
## # Groups:   continent, year [60]
##    country     continent  year lifeExp      pop gdpPercap
##    &lt;fct&gt;       &lt;fct&gt;     &lt;int&gt;   &lt;dbl&gt;    &lt;int&gt;     &lt;dbl&gt;
##  1 Afghanistan Asia       1952    28.8  8425333      779.
##  2 Afghanistan Asia       1957    30.3  9240934      821.
##  3 Afghanistan Asia       1962    32.0 10267083      853.
##  4 Afghanistan Asia       1967    34.0 11537966      836.
##  5 Afghanistan Asia       1972    36.1 13079460      740.
##  6 Afghanistan Asia       1977    38.4 14880372      786.
##  7 Afghanistan Asia       1982    39.9 12881816      978.
##  8 Afghanistan Asia       1987    40.8 13867957      852.
##  9 Afghanistan Asia       1992    41.7 16317921      649.
## 10 Afghanistan Asia       1997    41.8 22227415      635.
## # ℹ 1,694 more rows</code></pre>
<div class="sourceCode" id="cb441"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb441-1"><a href="2.4-dplyr.html#cb441-1" tabindex="-1"></a>gapminder <span class="sc">|&gt;</span>   </span>
<span id="cb441-2"><a href="2.4-dplyr.html#cb441-2" tabindex="-1"></a>  <span class="fu">group_by</span>(continent, year) <span class="sc">|&gt;</span> </span>
<span id="cb441-3"><a href="2.4-dplyr.html#cb441-3" tabindex="-1"></a>  <span class="fu">arrange</span>(year)</span></code></pre></div>
<pre><code>## # A tibble: 1,704 × 6
## # Groups:   continent, year [60]
##    country     continent  year lifeExp      pop gdpPercap
##    &lt;fct&gt;       &lt;fct&gt;     &lt;int&gt;   &lt;dbl&gt;    &lt;int&gt;     &lt;dbl&gt;
##  1 Afghanistan Asia       1952    28.8  8425333      779.
##  2 Albania     Europe     1952    55.2  1282697     1601.
##  3 Algeria     Africa     1952    43.1  9279525     2449.
##  4 Angola      Africa     1952    30.0  4232095     3521.
##  5 Argentina   Americas   1952    62.5 17876956     5911.
##  6 Australia   Oceania    1952    69.1  8691212    10040.
##  7 Austria     Europe     1952    66.8  6927772     6137.
##  8 Bahrain     Asia       1952    50.9   120447     9867.
##  9 Bangladesh  Asia       1952    37.5 46886859      684.
## 10 Belgium     Europe     1952    68    8730405     8343.
## # ℹ 1,694 more rows</code></pre>
<ul>
<li><code>ungroup()</code> ile gruplar çözülebilir.</li>
</ul>
</div>
<div id="summarize-verilerin-özetlenmesi" class="section level3 hasAnchor" number="2.4.6">
<h3><span class="header-section-number">2.4.6</span> <code>summarize()</code>: verilerin özetlenmesi<a href="2.4-dplyr.html#summarize-verilerin-özetlenmesi" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<div class="float">
<img src="img/summarize.PNG" alt="summarize()" />
<div class="figcaption">summarize()</div>
</div>
<ul>
<li><p>Verilerin özet istatistiklerinin oluşturulmasında <code>dplyr::summarize()</code> kullanılabilir.</p></li>
<li><p>Bu komut öncesinde <code>group_by()</code> ile veriler gruplandırılarak grup istatistikleri oluşturulabilir.</p></li>
</ul>
<div class="float">
<img src="img/groupby.png" alt="group_by()" />
<div class="figcaption">group_by()</div>
</div>
<ul>
<li><strong>Örnek</strong>: 2007 yılında her bir kıtada kaç ülke var?</li>
</ul>
<div class="sourceCode" id="cb443"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb443-1"><a href="2.4-dplyr.html#cb443-1" tabindex="-1"></a>gapminder <span class="sc">|&gt;</span>  </span>
<span id="cb443-2"><a href="2.4-dplyr.html#cb443-2" tabindex="-1"></a>  <span class="fu">filter</span>(year<span class="sc">==</span><span class="dv">2007</span>) <span class="sc">|&gt;</span> </span>
<span id="cb443-3"><a href="2.4-dplyr.html#cb443-3" tabindex="-1"></a>  <span class="fu">group_by</span>(continent) <span class="sc">|&gt;</span> </span>
<span id="cb443-4"><a href="2.4-dplyr.html#cb443-4" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="at">n =</span> <span class="fu">n</span>())</span></code></pre></div>
<pre><code>## # A tibble: 5 × 2
##   continent     n
##   &lt;fct&gt;     &lt;int&gt;
## 1 Africa       52
## 2 Americas     25
## 3 Asia         33
## 4 Europe       30
## 5 Oceania       2</code></pre>
<ul>
<li><strong>Örnek</strong>: 2007 yılında kıtalara göre ortalama yaşam beklentisini ve ortalama kişi başına GDP değerini bulunuz.</li>
</ul>
<div class="sourceCode" id="cb445"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb445-1"><a href="2.4-dplyr.html#cb445-1" tabindex="-1"></a>gapminder  <span class="sc">|&gt;</span>  </span>
<span id="cb445-2"><a href="2.4-dplyr.html#cb445-2" tabindex="-1"></a>  <span class="fu">filter</span>(year<span class="sc">==</span><span class="dv">2007</span>) <span class="sc">|&gt;</span></span>
<span id="cb445-3"><a href="2.4-dplyr.html#cb445-3" tabindex="-1"></a>  <span class="fu">group_by</span>(continent) <span class="sc">|&gt;</span></span>
<span id="cb445-4"><a href="2.4-dplyr.html#cb445-4" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="at">mean_life_exp =</span> <span class="fu">mean</span>(lifeExp), </span>
<span id="cb445-5"><a href="2.4-dplyr.html#cb445-5" tabindex="-1"></a>            <span class="at">mean_income =</span> <span class="fu">mean</span>(gdpPercap))</span></code></pre></div>
<pre><code>## # A tibble: 5 × 3
##   continent mean_life_exp mean_income
##   &lt;fct&gt;             &lt;dbl&gt;       &lt;dbl&gt;
## 1 Africa             54.8       3089.
## 2 Americas           73.6      11003.
## 3 Asia               70.7      12473.
## 4 Europe             77.6      25054.
## 5 Oceania            80.7      29810.</code></pre>
<ul>
<li>Kullanışlı diğer fonksiyonlar:
<ul>
<li><code>summarize_at()</code>: belirli değişkenlerin özet istatistiklerini hesaplar</li>
<li><code>summarize_all()</code>: tüm değişkenlerin özet istatistiklerini hesaplar.</li>
<li><code>summarize_if()</code>: sadece bir tip değişkenlerin değerlerini hesaplar.</li>
</ul></li>
<li><strong>Örnek</strong>: <code>summarize_at()</code> kullanımı:</li>
</ul>
<div class="sourceCode" id="cb447"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb447-1"><a href="2.4-dplyr.html#cb447-1" tabindex="-1"></a>gapminder <span class="sc">|&gt;</span> </span>
<span id="cb447-2"><a href="2.4-dplyr.html#cb447-2" tabindex="-1"></a>  <span class="fu">filter</span>(year<span class="sc">==</span><span class="dv">2007</span>) <span class="sc">|&gt;</span></span>
<span id="cb447-3"><a href="2.4-dplyr.html#cb447-3" tabindex="-1"></a>  <span class="fu">group_by</span>(continent) <span class="sc">|&gt;</span></span>
<span id="cb447-4"><a href="2.4-dplyr.html#cb447-4" tabindex="-1"></a>  <span class="fu">summarize_at</span>(<span class="fu">vars</span>(lifeExp, gdpPercap), mean) </span></code></pre></div>
<pre><code>## # A tibble: 5 × 3
##   continent lifeExp gdpPercap
##   &lt;fct&gt;       &lt;dbl&gt;     &lt;dbl&gt;
## 1 Africa       54.8     3089.
## 2 Americas     73.6    11003.
## 3 Asia         70.7    12473.
## 4 Europe       77.6    25054.
## 5 Oceania      80.7    29810.</code></pre>
<ul>
<li><strong>Örnek</strong>:</li>
</ul>
<div class="sourceCode" id="cb449"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb449-1"><a href="2.4-dplyr.html#cb449-1" tabindex="-1"></a>gapminder <span class="sc">|&gt;</span> </span>
<span id="cb449-2"><a href="2.4-dplyr.html#cb449-2" tabindex="-1"></a>  <span class="fu">filter</span>(year<span class="sc">==</span><span class="dv">2007</span>) <span class="sc">|&gt;</span></span>
<span id="cb449-3"><a href="2.4-dplyr.html#cb449-3" tabindex="-1"></a>  <span class="fu">group_by</span>(continent) <span class="sc">|&gt;</span></span>
<span id="cb449-4"><a href="2.4-dplyr.html#cb449-4" tabindex="-1"></a>  <span class="fu">summarize_at</span>(<span class="fu">vars</span>(lifeExp, gdpPercap), <span class="fu">list</span>(<span class="at">min =</span> min, <span class="at">max =</span> max))</span></code></pre></div>
<pre><code>## # A tibble: 5 × 5
##   continent lifeExp_min gdpPercap_min lifeExp_max gdpPercap_max
##   &lt;fct&gt;           &lt;dbl&gt;         &lt;dbl&gt;       &lt;dbl&gt;         &lt;dbl&gt;
## 1 Africa           39.6          278.        76.4        13206.
## 2 Americas         60.9         1202.        80.7        42952.
## 3 Asia             43.8          944         82.6        47307.
## 4 Europe           71.8         5937.        81.8        49357.
## 5 Oceania          80.2        25185.        81.2        34435.</code></pre>
<p><strong>Örnek</strong>: Önceki işlemi 1952 ve 2007 yılları için yapalım ve ortalamaları karşılaştıralım:</p>
<div class="sourceCode" id="cb451"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb451-1"><a href="2.4-dplyr.html#cb451-1" tabindex="-1"></a>gapminder <span class="sc">|&gt;</span> </span>
<span id="cb451-2"><a href="2.4-dplyr.html#cb451-2" tabindex="-1"></a>  <span class="fu">filter</span>(year <span class="sc">%in%</span> <span class="fu">c</span>(<span class="dv">1952</span>, <span class="dv">2007</span>)) <span class="sc">|&gt;</span></span>
<span id="cb451-3"><a href="2.4-dplyr.html#cb451-3" tabindex="-1"></a>  <span class="fu">group_by</span>(continent, year) <span class="sc">|&gt;</span></span>
<span id="cb451-4"><a href="2.4-dplyr.html#cb451-4" tabindex="-1"></a>  <span class="fu">summarize_at</span>(<span class="fu">vars</span>(lifeExp, gdpPercap), mean)</span></code></pre></div>
<pre><code>## # A tibble: 10 × 4
## # Groups:   continent [5]
##    continent  year lifeExp gdpPercap
##    &lt;fct&gt;     &lt;int&gt;   &lt;dbl&gt;     &lt;dbl&gt;
##  1 Africa     1952    39.1     1253.
##  2 Africa     2007    54.8     3089.
##  3 Americas   1952    53.3     4079.
##  4 Americas   2007    73.6    11003.
##  5 Asia       1952    46.3     5195.
##  6 Asia       2007    70.7    12473.
##  7 Europe     1952    64.4     5661.
##  8 Europe     2007    77.6    25054.
##  9 Oceania    1952    69.3    10298.
## 10 Oceania    2007    80.7    29810.</code></pre>
<p>Gruplamanın iki değişken üzerinden <code>group_by(continent, year)</code> yapıldığına dikkat ediniz.</p>
<ul>
<li><code>summarise()</code> ile kullanılabiliecek fonksiyonlar aşağıda listelenmiştir. Bu fonksiyonların girdiden hareketle sadece bir özet istatistik verdiğine dikkat ediniz:
<ul>
<li><code>n()</code>: satır (gözlem) sayısı</li>
<li><code>n_distinct()</code>: farklı gözlem sayısı</li>
<li><code>sum()</code>: toplam</li>
<li><code>sum(!is.na())</code>: NA olmayan gözlem sayısı</li>
<li><code>first()</code>: ilk değer</li>
<li><code>last()</code>: son değer</li>
<li><code>nth()</code>: n.nci sıradaki değer</li>
<li><code>mean()</code>: örneklem ortalaması,<br />
</li>
<li><code>median()</code>: medyan,</li>
<li><code>var()</code>: örneklem varyansı,</li>
<li><code>sd()</code>: örneklem standart sapması,</li>
<li><code>mad()</code>: medyan mutlak hata (median absolute deviation),</li>
<li><code>IQR()</code>: kartiller aralığı (interquartile range),</li>
<li><code>min()</code>: minimum,</li>
<li><code>max()</code>: maksimum</li>
<li><code>quantile()</code>: n.nci dilim</li>
</ul></li>
<li><strong>Örnek</strong>: Avrupa’da her yıl için minimum ve maksimum yaşam beklentisini bulunuz.</li>
</ul>
<div class="sourceCode" id="cb453"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb453-1"><a href="2.4-dplyr.html#cb453-1" tabindex="-1"></a>gapminder <span class="sc">|&gt;</span> </span>
<span id="cb453-2"><a href="2.4-dplyr.html#cb453-2" tabindex="-1"></a>  <span class="fu">filter</span>(continent<span class="sc">==</span><span class="st">&quot;Europe&quot;</span>) <span class="sc">|&gt;</span></span>
<span id="cb453-3"><a href="2.4-dplyr.html#cb453-3" tabindex="-1"></a>  <span class="fu">group_by</span>(year) <span class="sc">|&gt;</span></span>
<span id="cb453-4"><a href="2.4-dplyr.html#cb453-4" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="at">minlexp =</span> <span class="fu">min</span>(lifeExp), </span>
<span id="cb453-5"><a href="2.4-dplyr.html#cb453-5" tabindex="-1"></a>            <span class="at">maxlexp =</span> <span class="fu">max</span>(lifeExp) )</span></code></pre></div>
<pre><code>## # A tibble: 12 × 3
##     year minlexp maxlexp
##    &lt;int&gt;   &lt;dbl&gt;   &lt;dbl&gt;
##  1  1952    43.6    72.7
##  2  1957    48.1    73.5
##  3  1962    52.1    73.7
##  4  1967    54.3    74.2
##  5  1972    57.0    74.7
##  6  1977    59.5    76.1
##  7  1982    61.0    77.0
##  8  1987    63.1    77.4
##  9  1992    66.1    78.8
## 10  1997    68.8    79.4
## 11  2002    70.8    80.6
## 12  2007    71.8    81.8</code></pre>
<ul>
<li><p><code>mutate()</code> ve <code>group_by()</code> fonksiyonlarının birlikte kullanılabilir:</p></li>
<li><p><strong>Örnek</strong>: Her ülke için kişi başına GDP değişkeninin başlangıç yılındaki değerine oranını gösteren yeni bir değişken oluşturunuz. Yeni değişken başlangıç yılı olan 1952’de 1 değerini almalı, diğer yıllar için başlangıç yılına göre (1+büyüme oranı) olmalı.</p></li>
</ul>
<div class="sourceCode" id="cb455"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb455-1"><a href="2.4-dplyr.html#cb455-1" tabindex="-1"></a>gapminder <span class="sc">|&gt;</span>  </span>
<span id="cb455-2"><a href="2.4-dplyr.html#cb455-2" tabindex="-1"></a>  <span class="fu">group_by</span>(country) <span class="sc">|&gt;</span></span>
<span id="cb455-3"><a href="2.4-dplyr.html#cb455-3" tabindex="-1"></a>  <span class="fu">select</span>(country, year, gdpPercap) <span class="sc">|&gt;</span> </span>
<span id="cb455-4"><a href="2.4-dplyr.html#cb455-4" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">gdppc_to_first =</span> gdpPercap<span class="sc">/</span><span class="fu">first</span>(gdpPercap))</span></code></pre></div>
<pre><code>## # A tibble: 1,704 × 4
## # Groups:   country [142]
##    country      year gdpPercap gdppc_to_first
##    &lt;fct&gt;       &lt;int&gt;     &lt;dbl&gt;          &lt;dbl&gt;
##  1 Afghanistan  1952      779.          1    
##  2 Afghanistan  1957      821.          1.05 
##  3 Afghanistan  1962      853.          1.09 
##  4 Afghanistan  1967      836.          1.07 
##  5 Afghanistan  1972      740.          0.949
##  6 Afghanistan  1977      786.          1.01 
##  7 Afghanistan  1982      978.          1.25 
##  8 Afghanistan  1987      852.          1.09 
##  9 Afghanistan  1992      649.          0.833
## 10 Afghanistan  1997      635.          0.815
## # ℹ 1,694 more rows</code></pre>
<ul>
<li><strong>Örnek</strong>: Yıldan yıla büyüme oranlarını yüzde olarak gösteren yeni bir değişken oluşturunuz.</li>
</ul>
<div class="sourceCode" id="cb457"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb457-1"><a href="2.4-dplyr.html#cb457-1" tabindex="-1"></a>gapminder <span class="sc">|&gt;</span>  </span>
<span id="cb457-2"><a href="2.4-dplyr.html#cb457-2" tabindex="-1"></a>  <span class="fu">group_by</span>(country) <span class="sc">|&gt;</span></span>
<span id="cb457-3"><a href="2.4-dplyr.html#cb457-3" tabindex="-1"></a>  <span class="fu">select</span>(country, year, gdpPercap) <span class="sc">|&gt;</span> </span>
<span id="cb457-4"><a href="2.4-dplyr.html#cb457-4" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">gdppc_growth =</span> <span class="dv">100</span><span class="sc">*</span>(gdpPercap<span class="sc">-</span><span class="fu">lag</span>(gdpPercap))<span class="sc">/</span><span class="fu">lag</span>(gdpPercap))</span></code></pre></div>
<pre><code>## # A tibble: 1,704 × 4
## # Groups:   country [142]
##    country      year gdpPercap gdppc_growth
##    &lt;fct&gt;       &lt;int&gt;     &lt;dbl&gt;        &lt;dbl&gt;
##  1 Afghanistan  1952      779.        NA   
##  2 Afghanistan  1957      821.         5.31
##  3 Afghanistan  1962      853.         3.93
##  4 Afghanistan  1967      836.        -1.98
##  5 Afghanistan  1972      740.       -11.5 
##  6 Afghanistan  1977      786.         6.23
##  7 Afghanistan  1982      978.        24.4 
##  8 Afghanistan  1987      852.       -12.8 
##  9 Afghanistan  1992      649.       -23.8 
## 10 Afghanistan  1997      635.        -2.16
## # ℹ 1,694 more rows</code></pre>
<p>Örnekte kullanılan <code>lag()</code> fonksiyonu bir önceki dönemdeki (yılda) değere eşit olan birinci gecikmedir. Gecikmeyi açıkça veri setine ekleyelim:</p>
<div class="sourceCode" id="cb459"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb459-1"><a href="2.4-dplyr.html#cb459-1" tabindex="-1"></a>gapminder <span class="sc">|&gt;</span>  </span>
<span id="cb459-2"><a href="2.4-dplyr.html#cb459-2" tabindex="-1"></a>  <span class="fu">group_by</span>(country) <span class="sc">|&gt;</span></span>
<span id="cb459-3"><a href="2.4-dplyr.html#cb459-3" tabindex="-1"></a>  <span class="fu">select</span>(country, year, gdpPercap) <span class="sc">|&gt;</span> </span>
<span id="cb459-4"><a href="2.4-dplyr.html#cb459-4" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">lag_gdppc =</span> <span class="fu">lag</span>(gdpPercap, <span class="dv">1</span>, <span class="at">order_by =</span> year), </span>
<span id="cb459-5"><a href="2.4-dplyr.html#cb459-5" tabindex="-1"></a>         <span class="at">gdppc_growth =</span> <span class="dv">100</span><span class="sc">*</span>(gdpPercap<span class="sc">-</span>lag_gdppc)<span class="sc">/</span>lag_gdppc)</span></code></pre></div>
<pre><code>## # A tibble: 1,704 × 5
## # Groups:   country [142]
##    country      year gdpPercap lag_gdppc gdppc_growth
##    &lt;fct&gt;       &lt;int&gt;     &lt;dbl&gt;     &lt;dbl&gt;        &lt;dbl&gt;
##  1 Afghanistan  1952      779.       NA         NA   
##  2 Afghanistan  1957      821.      779.         5.31
##  3 Afghanistan  1962      853.      821.         3.93
##  4 Afghanistan  1967      836.      853.        -1.98
##  5 Afghanistan  1972      740.      836.       -11.5 
##  6 Afghanistan  1977      786.      740.         6.23
##  7 Afghanistan  1982      978.      786.        24.4 
##  8 Afghanistan  1987      852.      978.       -12.8 
##  9 Afghanistan  1992      649.      852.       -23.8 
## 10 Afghanistan  1997      635.      649.        -2.16
## # ℹ 1,694 more rows</code></pre>
<ul>
<li>Yukarıda <strong>pipe</strong> operatörünü kullandık. Bunu kullanmadan aynı kodu çalıştırmak istersek:</li>
</ul>
<div class="sourceCode" id="cb461"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb461-1"><a href="2.4-dplyr.html#cb461-1" tabindex="-1"></a><span class="fu">mutate</span>(<span class="fu">select</span>(<span class="fu">group_by</span>(gapminder,country), country, year, gdpPercap), <span class="at">gdppc_growth =</span> <span class="dv">100</span><span class="sc">*</span>(gdpPercap<span class="sc">-</span><span class="fu">lag</span>(gdpPercap))<span class="sc">/</span><span class="fu">lag</span>(gdpPercap))</span></code></pre></div>
<pre><code>## # A tibble: 1,704 × 4
## # Groups:   country [142]
##    country      year gdpPercap gdppc_growth
##    &lt;fct&gt;       &lt;int&gt;     &lt;dbl&gt;        &lt;dbl&gt;
##  1 Afghanistan  1952      779.        NA   
##  2 Afghanistan  1957      821.         5.31
##  3 Afghanistan  1962      853.         3.93
##  4 Afghanistan  1967      836.        -1.98
##  5 Afghanistan  1972      740.       -11.5 
##  6 Afghanistan  1977      786.         6.23
##  7 Afghanistan  1982      978.        24.4 
##  8 Afghanistan  1987      852.       -12.8 
##  9 Afghanistan  1992      649.       -23.8 
## 10 Afghanistan  1997      635.        -2.16
## # ℹ 1,694 more rows</code></pre>
<p>Bunu okumanın daha zor olduğu açıktır.</p>
<ul>
<li><strong>Örnek</strong>: Avrupa’da en düşük ve en yüksek yaşam beklentisini ülke bilgisiyle birlikte oluşturunuz. Önce, <code>europe</code> isimli yeni bir tibble yaratalım:</li>
</ul>
<div class="sourceCode" id="cb463"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb463-1"><a href="2.4-dplyr.html#cb463-1" tabindex="-1"></a>europe <span class="ot">&lt;-</span> gapminder <span class="sc">|&gt;</span> </span>
<span id="cb463-2"><a href="2.4-dplyr.html#cb463-2" tabindex="-1"></a>  <span class="fu">filter</span>(continent<span class="sc">==</span><span class="st">&quot;Europe&quot;</span>) <span class="sc">|&gt;</span></span>
<span id="cb463-3"><a href="2.4-dplyr.html#cb463-3" tabindex="-1"></a>  <span class="fu">select</span>(year, country, lifeExp) </span>
<span id="cb463-4"><a href="2.4-dplyr.html#cb463-4" tabindex="-1"></a></span>
<span id="cb463-5"><a href="2.4-dplyr.html#cb463-5" tabindex="-1"></a>europe <span class="sc">|&gt;</span> <span class="fu">head</span>(<span class="dv">10</span>)</span></code></pre></div>
<pre><code>## # A tibble: 10 × 3
##     year country lifeExp
##    &lt;int&gt; &lt;fct&gt;     &lt;dbl&gt;
##  1  1952 Albania    55.2
##  2  1957 Albania    59.3
##  3  1962 Albania    64.8
##  4  1967 Albania    66.2
##  5  1972 Albania    67.7
##  6  1977 Albania    68.9
##  7  1982 Albania    70.4
##  8  1987 Albania    72  
##  9  1992 Albania    71.6
## 10  1997 Albania    73.0</code></pre>
<p>Daha sonra <code>min_rank()</code> ile yaşam beklentisini küçükten büyüğe doğru sıralayalım ve yeni bir değişken yaratarak sıralamaları kaydedelim. En düşük yaşam beklentisine sahip ilk iki ülkeyi listeleyelim:</p>
<div class="sourceCode" id="cb465"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb465-1"><a href="2.4-dplyr.html#cb465-1" tabindex="-1"></a>europe <span class="sc">|&gt;</span> </span>
<span id="cb465-2"><a href="2.4-dplyr.html#cb465-2" tabindex="-1"></a>  <span class="fu">group_by</span>(year) <span class="sc">|&gt;</span> </span>
<span id="cb465-3"><a href="2.4-dplyr.html#cb465-3" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">le_rank =</span> <span class="fu">min_rank</span>(lifeExp)) <span class="sc">|&gt;</span> </span>
<span id="cb465-4"><a href="2.4-dplyr.html#cb465-4" tabindex="-1"></a>  <span class="fu">filter</span>(le_rank <span class="sc">&lt;</span> <span class="dv">3</span>) <span class="sc">|&gt;</span> </span>
<span id="cb465-5"><a href="2.4-dplyr.html#cb465-5" tabindex="-1"></a>  <span class="fu">arrange</span>(year)</span></code></pre></div>
<pre><code>## # A tibble: 24 × 4
## # Groups:   year [12]
##     year country                lifeExp le_rank
##    &lt;int&gt; &lt;fct&gt;                    &lt;dbl&gt;   &lt;int&gt;
##  1  1952 Bosnia and Herzegovina    53.8       2
##  2  1952 Turkey                    43.6       1
##  3  1957 Bosnia and Herzegovina    58.4       2
##  4  1957 Turkey                    48.1       1
##  5  1962 Bosnia and Herzegovina    61.9       2
##  6  1962 Turkey                    52.1       1
##  7  1967 Bosnia and Herzegovina    64.8       2
##  8  1967 Turkey                    54.3       1
##  9  1972 Bosnia and Herzegovina    67.4       2
## 10  1972 Turkey                    57.0       1
## # ℹ 14 more rows</code></pre>
<p>Aynısını en yüksek yaşam beklentisi için yapalım:</p>
<div class="sourceCode" id="cb467"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb467-1"><a href="2.4-dplyr.html#cb467-1" tabindex="-1"></a>europe <span class="sc">|&gt;</span> <span class="fu">group_by</span>(year) <span class="sc">|&gt;</span> </span>
<span id="cb467-2"><a href="2.4-dplyr.html#cb467-2" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">le_desc_rank =</span> <span class="fu">min_rank</span>(<span class="fu">desc</span>(lifeExp))) <span class="sc">|&gt;</span> </span>
<span id="cb467-3"><a href="2.4-dplyr.html#cb467-3" tabindex="-1"></a>  <span class="fu">filter</span>(le_desc_rank <span class="sc">&lt;</span> <span class="dv">3</span>) <span class="sc">|&gt;</span> </span>
<span id="cb467-4"><a href="2.4-dplyr.html#cb467-4" tabindex="-1"></a>  <span class="fu">arrange</span>(year)</span></code></pre></div>
<pre><code>## # A tibble: 24 × 4
## # Groups:   year [12]
##     year country lifeExp le_desc_rank
##    &lt;int&gt; &lt;fct&gt;     &lt;dbl&gt;        &lt;int&gt;
##  1  1952 Iceland    72.5            2
##  2  1952 Norway     72.7            1
##  3  1957 Iceland    73.5            1
##  4  1957 Norway     73.4            2
##  5  1962 Iceland    73.7            1
##  6  1962 Norway     73.5            2
##  7  1967 Norway     74.1            2
##  8  1967 Sweden     74.2            1
##  9  1972 Iceland    74.5            2
## 10  1972 Sweden     74.7            1
## # ℹ 14 more rows</code></pre>
<p><strong>Alıştırma</strong>: Minimum ve maksimum yaşam beklentisini birlikte gösteren bir tablo oluşturunuz.</p>
</div>
<div id="veri-setlerinin-birleştirilmesi" class="section level3 hasAnchor" number="2.4.7">
<h3><span class="header-section-number">2.4.7</span> Veri setlerinin birleştirilmesi<a href="2.4-dplyr.html#veri-setlerinin-birleştirilmesi" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<ul>
<li><code>table4a</code> ve <code>table4b</code> verilerini daha önce nasıl düzenli hale getireceğimizi görmmüştük. Şimdi bu iki veri setini birleştirelim.</li>
</ul>
<div class="sourceCode" id="cb469"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb469-1"><a href="2.4-dplyr.html#cb469-1" tabindex="-1"></a>table4a</span></code></pre></div>
<pre><code>## # A tibble: 3 × 3
##   country     `1999` `2000`
##   &lt;chr&gt;        &lt;dbl&gt;  &lt;dbl&gt;
## 1 Afghanistan    745   2666
## 2 Brazil       37737  80488
## 3 China       212258 213766</code></pre>
<div class="sourceCode" id="cb471"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb471-1"><a href="2.4-dplyr.html#cb471-1" tabindex="-1"></a>table4a_tidy <span class="ot">&lt;-</span> <span class="fu">pivot_longer</span>(table4a, </span>
<span id="cb471-2"><a href="2.4-dplyr.html#cb471-2" tabindex="-1"></a>                             <span class="at">cols =</span> <span class="dv">2</span><span class="sc">:</span><span class="dv">3</span>, </span>
<span id="cb471-3"><a href="2.4-dplyr.html#cb471-3" tabindex="-1"></a>                             <span class="at">names_to =</span> <span class="st">&quot;year&quot;</span>, </span>
<span id="cb471-4"><a href="2.4-dplyr.html#cb471-4" tabindex="-1"></a>                             <span class="at">values_to =</span> <span class="st">&quot;cases&quot;</span>)</span>
<span id="cb471-5"><a href="2.4-dplyr.html#cb471-5" tabindex="-1"></a>table4a_tidy</span></code></pre></div>
<pre><code>## # A tibble: 6 × 3
##   country     year   cases
##   &lt;chr&gt;       &lt;chr&gt;  &lt;dbl&gt;
## 1 Afghanistan 1999     745
## 2 Afghanistan 2000    2666
## 3 Brazil      1999   37737
## 4 Brazil      2000   80488
## 5 China       1999  212258
## 6 China       2000  213766</code></pre>
<div class="sourceCode" id="cb473"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb473-1"><a href="2.4-dplyr.html#cb473-1" tabindex="-1"></a>table4b_tidy <span class="ot">&lt;-</span> <span class="fu">pivot_longer</span>(table4b, </span>
<span id="cb473-2"><a href="2.4-dplyr.html#cb473-2" tabindex="-1"></a>                             <span class="at">cols =</span> <span class="dv">2</span><span class="sc">:</span><span class="dv">3</span>, </span>
<span id="cb473-3"><a href="2.4-dplyr.html#cb473-3" tabindex="-1"></a>                             <span class="at">names_to =</span> <span class="st">&quot;year&quot;</span>, </span>
<span id="cb473-4"><a href="2.4-dplyr.html#cb473-4" tabindex="-1"></a>                             <span class="at">values_to =</span> <span class="st">&quot;population&quot;</span>)</span>
<span id="cb473-5"><a href="2.4-dplyr.html#cb473-5" tabindex="-1"></a>table4b_tidy</span></code></pre></div>
<pre><code>## # A tibble: 6 × 3
##   country     year  population
##   &lt;chr&gt;       &lt;chr&gt;      &lt;dbl&gt;
## 1 Afghanistan 1999    19987071
## 2 Afghanistan 2000    20595360
## 3 Brazil      1999   172006362
## 4 Brazil      2000   174504898
## 5 China       1999  1272915272
## 6 China       2000  1280428583</code></pre>
<ul>
<li>Birleştirme için <code>dplyr::left_join()</code> fonksiyonu kullanılabilir:</li>
</ul>
<div class="sourceCode" id="cb475"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb475-1"><a href="2.4-dplyr.html#cb475-1" tabindex="-1"></a><span class="co"># country, year anahtarları ile birleştir</span></span>
<span id="cb475-2"><a href="2.4-dplyr.html#cb475-2" tabindex="-1"></a><span class="fu">left_join</span>(table4a_tidy, table4b_tidy, <span class="at">by =</span> <span class="fu">c</span>(<span class="st">&quot;country&quot;</span>, <span class="st">&quot;year&quot;</span>))</span></code></pre></div>
<pre><code>## # A tibble: 6 × 4
##   country     year   cases population
##   &lt;chr&gt;       &lt;chr&gt;  &lt;dbl&gt;      &lt;dbl&gt;
## 1 Afghanistan 1999     745   19987071
## 2 Afghanistan 2000    2666   20595360
## 3 Brazil      1999   37737  172006362
## 4 Brazil      2000   80488  174504898
## 5 China       1999  212258 1272915272
## 6 China       2000  213766 1280428583</code></pre>
<ul>
<li>Aşağıda listelenen birleştirme fonksiyonları (mutating joins) <code>veri2</code>’nin sütunlarını <code>veri1</code>’in sütunları ile belirli anahtar değerler yardımıyla eşleştirerek yeni sütunlar yaratır:
<ul>
<li><p><code>left_join(veri1, veri2)</code>: <code>veri1</code>’in tüm satırlarını eşleştirir
<img src="img/left-join.gif" alt="Kaynak: datasciencebox.org/" /></p></li>
<li><p><code>right_join(veri1, veri2)</code>: <code>veri2</code>’nin tüm satırlarını eşleştirir
<img src="img/right-join.gif" alt="Kaynak: datasciencebox.org/" /></p></li>
<li><p><code>inner_join(veri1, veri2)</code>: her iki veri setinin eşleşen satırlarını muhafaza eder
<img src="img/inner-join.gif" alt="Kaynak: datasciencebox.org/" /></p></li>
<li><p><code>full_join(veri1, veri2)</code>: <code>veri1</code> ve <code>veri2</code>’nin tüm satırlarını muhafaza eder.
<img src="img/full-join.gif" alt="Kaynak: datasciencebox.org/" /></p></li>
</ul></li>
</ul>
<div class="sourceCode" id="cb477"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb477-1"><a href="2.4-dplyr.html#cb477-1" tabindex="-1"></a>veri1 <span class="ot">&lt;-</span> <span class="fu">tibble</span>(<span class="at">id =</span> <span class="fu">c</span>(<span class="st">&quot;Istanbul&quot;</span>, <span class="st">&quot;Istanbul&quot;</span>, <span class="st">&quot;Ankara&quot;</span>, <span class="st">&quot;Ankara&quot;</span>, <span class="st">&quot;Izmir&quot;</span>, <span class="st">&quot;Izmir&quot;</span>), </span>
<span id="cb477-2"><a href="2.4-dplyr.html#cb477-2" tabindex="-1"></a>                <span class="at">year =</span> <span class="fu">c</span>(<span class="dv">2019</span>, <span class="dv">2020</span>, <span class="dv">2019</span>, <span class="dv">2020</span>,<span class="dv">2019</span>, <span class="dv">2020</span>), </span>
<span id="cb477-3"><a href="2.4-dplyr.html#cb477-3" tabindex="-1"></a>                <span class="at">x =</span> <span class="fu">c</span>(<span class="dv">50</span>, <span class="dv">60</span>, <span class="dv">30</span>, <span class="dv">20</span>, <span class="dv">40</span>, <span class="cn">NA</span>))</span>
<span id="cb477-4"><a href="2.4-dplyr.html#cb477-4" tabindex="-1"></a>veri1</span></code></pre></div>
<pre><code>## # A tibble: 6 × 3
##   id        year     x
##   &lt;chr&gt;    &lt;dbl&gt; &lt;dbl&gt;
## 1 Istanbul  2019    50
## 2 Istanbul  2020    60
## 3 Ankara    2019    30
## 4 Ankara    2020    20
## 5 Izmir     2019    40
## 6 Izmir     2020    NA</code></pre>
<div class="sourceCode" id="cb479"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb479-1"><a href="2.4-dplyr.html#cb479-1" tabindex="-1"></a>veri2 <span class="ot">&lt;-</span> <span class="fu">tibble</span>(<span class="at">id =</span> <span class="fu">c</span>(<span class="st">&quot;Istanbul&quot;</span>, <span class="st">&quot;Istanbul&quot;</span>, <span class="st">&quot;Ankara&quot;</span>, <span class="st">&quot;Izmir&quot;</span>, <span class="st">&quot;Izmir&quot;</span>, <span class="st">&quot;Antalya&quot;</span>), </span>
<span id="cb479-2"><a href="2.4-dplyr.html#cb479-2" tabindex="-1"></a>                <span class="at">year =</span> <span class="fu">c</span>(<span class="dv">2019</span>, <span class="dv">2020</span>, <span class="dv">2019</span>, <span class="dv">2019</span>, <span class="dv">2020</span>, <span class="dv">2019</span>), </span>
<span id="cb479-3"><a href="2.4-dplyr.html#cb479-3" tabindex="-1"></a>                <span class="at">y =</span> <span class="fu">c</span>(<span class="dv">1000</span>, <span class="dv">1200</span>, <span class="dv">800</span>, <span class="dv">600</span>, <span class="dv">650</span>, <span class="dv">500</span>))</span>
<span id="cb479-4"><a href="2.4-dplyr.html#cb479-4" tabindex="-1"></a>veri2</span></code></pre></div>
<pre><code>## # A tibble: 6 × 3
##   id        year     y
##   &lt;chr&gt;    &lt;dbl&gt; &lt;dbl&gt;
## 1 Istanbul  2019  1000
## 2 Istanbul  2020  1200
## 3 Ankara    2019   800
## 4 Izmir     2019   600
## 5 Izmir     2020   650
## 6 Antalya   2019   500</code></pre>
<div class="sourceCode" id="cb481"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb481-1"><a href="2.4-dplyr.html#cb481-1" tabindex="-1"></a><span class="co"># left_join() veri1&#39;in satırlarını muhafaza eder, veri2&#39;nin eşleşmeyen </span></span>
<span id="cb481-2"><a href="2.4-dplyr.html#cb481-2" tabindex="-1"></a><span class="co"># satırları alınmaz</span></span>
<span id="cb481-3"><a href="2.4-dplyr.html#cb481-3" tabindex="-1"></a><span class="fu">left_join</span>(veri1, veri2, <span class="at">by =</span> <span class="fu">c</span>(<span class="st">&quot;id&quot;</span>, <span class="st">&quot;year&quot;</span>))</span></code></pre></div>
<pre><code>## # A tibble: 6 × 4
##   id        year     x     y
##   &lt;chr&gt;    &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;
## 1 Istanbul  2019    50  1000
## 2 Istanbul  2020    60  1200
## 3 Ankara    2019    30   800
## 4 Ankara    2020    20    NA
## 5 Izmir     2019    40   600
## 6 Izmir     2020    NA   650</code></pre>
<div class="sourceCode" id="cb483"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb483-1"><a href="2.4-dplyr.html#cb483-1" tabindex="-1"></a><span class="co"># right_join() veri2&#39;nin satırlarını muhafaza eder </span></span>
<span id="cb483-2"><a href="2.4-dplyr.html#cb483-2" tabindex="-1"></a><span class="co"># eşleşmeyen satırlar = NA</span></span>
<span id="cb483-3"><a href="2.4-dplyr.html#cb483-3" tabindex="-1"></a><span class="fu">right_join</span>(veri1, veri2, <span class="at">by =</span> <span class="fu">c</span>(<span class="st">&quot;id&quot;</span>, <span class="st">&quot;year&quot;</span>))</span></code></pre></div>
<pre><code>## # A tibble: 6 × 4
##   id        year     x     y
##   &lt;chr&gt;    &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;
## 1 Istanbul  2019    50  1000
## 2 Istanbul  2020    60  1200
## 3 Ankara    2019    30   800
## 4 Izmir     2019    40   600
## 5 Izmir     2020    NA   650
## 6 Antalya   2019    NA   500</code></pre>
<div class="sourceCode" id="cb485"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb485-1"><a href="2.4-dplyr.html#cb485-1" tabindex="-1"></a><span class="fu">inner_join</span>(veri1, veri2, <span class="at">by =</span> <span class="fu">c</span>(<span class="st">&quot;id&quot;</span>, <span class="st">&quot;year&quot;</span>))</span></code></pre></div>
<pre><code>## # A tibble: 5 × 4
##   id        year     x     y
##   &lt;chr&gt;    &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;
## 1 Istanbul  2019    50  1000
## 2 Istanbul  2020    60  1200
## 3 Ankara    2019    30   800
## 4 Izmir     2019    40   600
## 5 Izmir     2020    NA   650</code></pre>
<div class="sourceCode" id="cb487"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb487-1"><a href="2.4-dplyr.html#cb487-1" tabindex="-1"></a><span class="fu">full_join</span>(veri1, veri2, <span class="at">by =</span> <span class="fu">c</span>(<span class="st">&quot;id&quot;</span>, <span class="st">&quot;year&quot;</span>))</span></code></pre></div>
<pre><code>## # A tibble: 7 × 4
##   id        year     x     y
##   &lt;chr&gt;    &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;
## 1 Istanbul  2019    50  1000
## 2 Istanbul  2020    60  1200
## 3 Ankara    2019    30   800
## 4 Ankara    2020    20    NA
## 5 Izmir     2019    40   600
## 6 Izmir     2020    NA   650
## 7 Antalya   2019    NA   500</code></pre>
<ul>
<li><p><code>bind_cols()</code>: veri setlerinin sütunlarını oldukları gibi yan yana yapıştırır. Gözlemlerin (satırların) hizalanmış olması gerekir.</p></li>
<li><p><code>bind_rows()</code>: veri setlerinin satırlarını (gözlemleri) alt alta yapıştırır. Sütunların hizalanmış olması gerekir. Yeni gözlemlerin eklenmesi için kullanılabilir.</p></li>
<li><p><strong>Alıştırma</strong>: Aşağıdaki tabloyu <code>veri1</code> ve <code>veri2</code> tablolarıyla nasıl birleştirirsiniz? <code>veri3</code>’ün yeni satırlar içerdiğine dikkat ediniz.</p></li>
</ul>
<div class="sourceCode" id="cb489"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb489-1"><a href="2.4-dplyr.html#cb489-1" tabindex="-1"></a>veri3 <span class="ot">&lt;-</span> <span class="fu">tibble</span>(<span class="at">id =</span> <span class="fu">c</span>(<span class="st">&quot;Bursa&quot;</span>, <span class="st">&quot;Bursa&quot;</span>, <span class="st">&quot;Adana&quot;</span>, <span class="st">&quot;Adana&quot;</span>), </span>
<span id="cb489-2"><a href="2.4-dplyr.html#cb489-2" tabindex="-1"></a>                <span class="at">year =</span> <span class="fu">c</span>(<span class="dv">2019</span>, <span class="dv">2020</span>, <span class="dv">2019</span>, <span class="dv">2020</span>), </span>
<span id="cb489-3"><a href="2.4-dplyr.html#cb489-3" tabindex="-1"></a>                <span class="at">x =</span> <span class="fu">c</span>(<span class="dv">110</span>, <span class="dv">115</span>, <span class="dv">160</span>, <span class="dv">140</span>), </span>
<span id="cb489-4"><a href="2.4-dplyr.html#cb489-4" tabindex="-1"></a>                <span class="at">y =</span> <span class="fu">c</span>(<span class="dv">350</span>, <span class="dv">380</span>, <span class="dv">440</span>, <span class="dv">430</span>))</span>
<span id="cb489-5"><a href="2.4-dplyr.html#cb489-5" tabindex="-1"></a>veri3</span></code></pre></div>
<pre><code>## # A tibble: 4 × 4
##   id     year     x     y
##   &lt;chr&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;
## 1 Bursa  2019   110   350
## 2 Bursa  2020   115   380
## 3 Adana  2019   160   440
## 4 Adana  2020   140   430</code></pre>
<ul>
<li><strong>Çözüm</strong></li>
</ul>
<div class="sourceCode" id="cb491"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb491-1"><a href="2.4-dplyr.html#cb491-1" tabindex="-1"></a>veri1 <span class="sc">|&gt;</span> <span class="fu">full_join</span>(veri2) <span class="sc">|&gt;</span> </span>
<span id="cb491-2"><a href="2.4-dplyr.html#cb491-2" tabindex="-1"></a>  <span class="fu">bind_rows</span>(veri3)</span></code></pre></div>
<pre><code>## Joining with `by = join_by(id, year)`</code></pre>
<pre><code>## # A tibble: 11 × 4
##    id        year     x     y
##    &lt;chr&gt;    &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;
##  1 Istanbul  2019    50  1000
##  2 Istanbul  2020    60  1200
##  3 Ankara    2019    30   800
##  4 Ankara    2020    20    NA
##  5 Izmir     2019    40   600
##  6 Izmir     2020    NA   650
##  7 Antalya   2019    NA   500
##  8 Bursa     2019   110   350
##  9 Bursa     2020   115   380
## 10 Adana     2019   160   440
## 11 Adana     2020   140   430</code></pre>
</div>
<div id="diğer-fonksiyonlar" class="section level3 hasAnchor" number="2.4.8">
<h3><span class="header-section-number">2.4.8</span> Diğer fonksiyonlar<a href="2.4-dplyr.html#diğer-fonksiyonlar" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<div id="rename" class="section level4 hasAnchor" number="2.4.8.1">
<h4><span class="header-section-number">2.4.8.1</span> <code>rename()</code><a href="2.4-dplyr.html#rename" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<ul>
<li>Mevcut değişkenleri yeniden isimlendirir.</li>
</ul>
<div class="sourceCode" id="cb494"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb494-1"><a href="2.4-dplyr.html#cb494-1" tabindex="-1"></a>gapminder <span class="sc">|&gt;</span> <span class="fu">filter</span>(country <span class="sc">==</span> <span class="st">&quot;Turkey&quot;</span>) <span class="sc">|&gt;</span></span>
<span id="cb494-2"><a href="2.4-dplyr.html#cb494-2" tabindex="-1"></a>  <span class="fu">rename</span>(<span class="at">life_exp =</span> lifeExp, </span>
<span id="cb494-3"><a href="2.4-dplyr.html#cb494-3" tabindex="-1"></a>         <span class="at">gdp_pc =</span> gdpPercap</span>
<span id="cb494-4"><a href="2.4-dplyr.html#cb494-4" tabindex="-1"></a>         )</span></code></pre></div>
<pre><code>## # A tibble: 12 × 6
##    country continent  year life_exp      pop gdp_pc
##    &lt;fct&gt;   &lt;fct&gt;     &lt;int&gt;    &lt;dbl&gt;    &lt;int&gt;  &lt;dbl&gt;
##  1 Turkey  Europe     1952     43.6 22235677  1969.
##  2 Turkey  Europe     1957     48.1 25670939  2219.
##  3 Turkey  Europe     1962     52.1 29788695  2323.
##  4 Turkey  Europe     1967     54.3 33411317  2826.
##  5 Turkey  Europe     1972     57.0 37492953  3451.
##  6 Turkey  Europe     1977     59.5 42404033  4269.
##  7 Turkey  Europe     1982     61.0 47328791  4241.
##  8 Turkey  Europe     1987     63.1 52881328  5089.
##  9 Turkey  Europe     1992     66.1 58179144  5678.
## 10 Turkey  Europe     1997     68.8 63047647  6601.
## 11 Turkey  Europe     2002     70.8 67308928  6508.
## 12 Turkey  Europe     2007     71.8 71158647  8458.</code></pre>
</div>
<div id="relocate" class="section level4 hasAnchor" number="2.4.8.2">
<h4><span class="header-section-number">2.4.8.2</span> <code>relocate()</code><a href="2.4-dplyr.html#relocate" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<ul>
<li>Sütunların konumunu değiştirir, satırları etkilemez ve grupları değiştirmez.</li>
</ul>
<div class="sourceCode" id="cb496"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb496-1"><a href="2.4-dplyr.html#cb496-1" tabindex="-1"></a>gapminder <span class="sc">|&gt;</span> <span class="fu">filter</span>(country <span class="sc">==</span> <span class="st">&quot;Turkey&quot;</span>) <span class="sc">|&gt;</span></span>
<span id="cb496-2"><a href="2.4-dplyr.html#cb496-2" tabindex="-1"></a>  <span class="fu">rename</span>(<span class="at">life_exp =</span> lifeExp, </span>
<span id="cb496-3"><a href="2.4-dplyr.html#cb496-3" tabindex="-1"></a>         <span class="at">gdp_pc =</span> gdpPercap</span>
<span id="cb496-4"><a href="2.4-dplyr.html#cb496-4" tabindex="-1"></a>         ) <span class="sc">|&gt;</span> </span>
<span id="cb496-5"><a href="2.4-dplyr.html#cb496-5" tabindex="-1"></a>  <span class="fu">relocate</span>(gdp_pc, <span class="at">.after =</span> year)</span></code></pre></div>
<pre><code>## # A tibble: 12 × 6
##    country continent  year gdp_pc life_exp      pop
##    &lt;fct&gt;   &lt;fct&gt;     &lt;int&gt;  &lt;dbl&gt;    &lt;dbl&gt;    &lt;int&gt;
##  1 Turkey  Europe     1952  1969.     43.6 22235677
##  2 Turkey  Europe     1957  2219.     48.1 25670939
##  3 Turkey  Europe     1962  2323.     52.1 29788695
##  4 Turkey  Europe     1967  2826.     54.3 33411317
##  5 Turkey  Europe     1972  3451.     57.0 37492953
##  6 Turkey  Europe     1977  4269.     59.5 42404033
##  7 Turkey  Europe     1982  4241.     61.0 47328791
##  8 Turkey  Europe     1987  5089.     63.1 52881328
##  9 Turkey  Europe     1992  5678.     66.1 58179144
## 10 Turkey  Europe     1997  6601.     68.8 63047647
## 11 Turkey  Europe     2002  6508.     70.8 67308928
## 12 Turkey  Europe     2007  8458.     71.8 71158647</code></pre>
<div class="sourceCode" id="cb498"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb498-1"><a href="2.4-dplyr.html#cb498-1" tabindex="-1"></a>gapminder <span class="sc">|&gt;</span> <span class="fu">filter</span>(country <span class="sc">==</span> <span class="st">&quot;Turkey&quot;</span>) <span class="sc">|&gt;</span></span>
<span id="cb498-2"><a href="2.4-dplyr.html#cb498-2" tabindex="-1"></a>  <span class="fu">rename</span>(<span class="at">life_exp =</span> lifeExp, </span>
<span id="cb498-3"><a href="2.4-dplyr.html#cb498-3" tabindex="-1"></a>         <span class="at">gdp_pc =</span> gdpPercap</span>
<span id="cb498-4"><a href="2.4-dplyr.html#cb498-4" tabindex="-1"></a>         ) <span class="sc">|&gt;</span> </span>
<span id="cb498-5"><a href="2.4-dplyr.html#cb498-5" tabindex="-1"></a>  <span class="fu">relocate</span>(gdp_pc, <span class="at">.before =</span> life_exp)</span></code></pre></div>
<pre><code>## # A tibble: 12 × 6
##    country continent  year gdp_pc life_exp      pop
##    &lt;fct&gt;   &lt;fct&gt;     &lt;int&gt;  &lt;dbl&gt;    &lt;dbl&gt;    &lt;int&gt;
##  1 Turkey  Europe     1952  1969.     43.6 22235677
##  2 Turkey  Europe     1957  2219.     48.1 25670939
##  3 Turkey  Europe     1962  2323.     52.1 29788695
##  4 Turkey  Europe     1967  2826.     54.3 33411317
##  5 Turkey  Europe     1972  3451.     57.0 37492953
##  6 Turkey  Europe     1977  4269.     59.5 42404033
##  7 Turkey  Europe     1982  4241.     61.0 47328791
##  8 Turkey  Europe     1987  5089.     63.1 52881328
##  9 Turkey  Europe     1992  5678.     66.1 58179144
## 10 Turkey  Europe     1997  6601.     68.8 63047647
## 11 Turkey  Europe     2002  6508.     70.8 67308928
## 12 Turkey  Europe     2007  8458.     71.8 71158647</code></pre>
</div>
<div id="distinct" class="section level4 hasAnchor" number="2.4.8.3">
<h4><span class="header-section-number">2.4.8.3</span> <code>distinct()</code><a href="2.4-dplyr.html#distinct" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<ul>
<li>Tekrar eden satırları siler.</li>
</ul>
<div class="sourceCode" id="cb500"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb500-1"><a href="2.4-dplyr.html#cb500-1" tabindex="-1"></a>df <span class="ot">&lt;-</span> <span class="fu">tibble</span>(<span class="at">x =</span> <span class="fu">c</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">5</span>, <span class="dv">5</span>), </span>
<span id="cb500-2"><a href="2.4-dplyr.html#cb500-2" tabindex="-1"></a>             <span class="at">y =</span> <span class="fu">c</span>(<span class="dv">11</span><span class="sc">:</span><span class="dv">15</span>, <span class="dv">15</span>), </span>
<span id="cb500-3"><a href="2.4-dplyr.html#cb500-3" tabindex="-1"></a>             <span class="at">z =</span> <span class="fu">c</span>(letters[<span class="dv">1</span><span class="sc">:</span><span class="dv">5</span>], <span class="st">&quot;e&quot;</span>))</span>
<span id="cb500-4"><a href="2.4-dplyr.html#cb500-4" tabindex="-1"></a>df</span></code></pre></div>
<pre><code>## # A tibble: 6 × 3
##       x     y z    
##   &lt;dbl&gt; &lt;dbl&gt; &lt;chr&gt;
## 1     1    11 a    
## 2     2    12 b    
## 3     3    13 c    
## 4     4    14 d    
## 5     5    15 e    
## 6     5    15 e</code></pre>
<div class="sourceCode" id="cb502"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb502-1"><a href="2.4-dplyr.html#cb502-1" tabindex="-1"></a><span class="co"># distinct gözlem sayısı</span></span>
<span id="cb502-2"><a href="2.4-dplyr.html#cb502-2" tabindex="-1"></a><span class="fu">nrow</span>(<span class="fu">distinct</span>(df))</span></code></pre></div>
<pre><code>## [1] 5</code></pre>
<div class="sourceCode" id="cb504"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb504-1"><a href="2.4-dplyr.html#cb504-1" tabindex="-1"></a><span class="co"># distinct gözlemler</span></span>
<span id="cb504-2"><a href="2.4-dplyr.html#cb504-2" tabindex="-1"></a>df <span class="sc">|&gt;</span> <span class="fu">distinct</span>()</span></code></pre></div>
<pre><code>## # A tibble: 5 × 3
##       x     y z    
##   &lt;dbl&gt; &lt;dbl&gt; &lt;chr&gt;
## 1     1    11 a    
## 2     2    12 b    
## 3     3    13 c    
## 4     4    14 d    
## 5     5    15 e</code></pre>
</div>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="2.3-tidyr-paketi-ile-verilerin-düzenlenmesi.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="2.5-ggplot.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": false,
"twitter": false,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": null,
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "subsection"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/latest.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
